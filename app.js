/* المواظبة والسلوك - v4 (offline-first) */
"use strict";

// ===== Embedded students (from StudentGuidance.xlsx / Sheet2) =====
const EMBEDDED_STUDENTS = [{"sid": "2305897668", "name": "احمد محمود ثابت احمد", "phone": "966563658017", "gradeCode": "1314", "section": "1"}, {"sid": "2292617145", "name": "اصيل عبود صالح العمودي", "phone": "966553507555", "gradeCode": "1314", "section": "1"}, {"sid": "2307606737", "name": "امين - - العربي", "phone": "966503200914", "gradeCode": "1314", "section": "1"}, {"sid": "05360710", "name": "امين صادق علي الحمادي", "phone": "966504567688", "gradeCode": "1314", "section": "1"}, {"sid": "1150435822", "name": "جهاد بن صادق بن عبدالله آل طه", "phone": "966562158152", "gradeCode": "1314", "section": "1"}, {"sid": "1149831206", "name": "خالد بن عبداللطيف بن خالد الحويل", "phone": "966545171157", "gradeCode": "1314", "section": "1"}, {"sid": "1151210018", "name": "رضا بن محمد بن ابراهيم الصالح", "phone": "966563967601", "gradeCode": "1314", "section": "1"}, {"sid": "4131708002", "name": "ريان حسين علوي حسين", "phone": "966501656407", "gradeCode": "1314", "section": "1"}, {"sid": "2290508973", "name": "ريان علي عوض النهدي", "phone": "966507445053", "gradeCode": "1314", "section": "1"}, {"sid": "1150954897", "name": "سامي عمر احمد المدني", "phone": "966504836294", "gradeCode": "1314", "section": "1"}, {"sid": "2288928746", "name": "سليمان امين علي الحمادي", "phone": "966505525110", "gradeCode": "1314", "section": "1"}, {"sid": "2312377852", "name": "سيف الاسلام محمد عبدالحميد عبدالعزيز", "phone": "966532466060", "gradeCode": "1314", "section": "1"}, {"sid": "2302048810", "name": "عبدالرحمن مصطفى - المحضار", "phone": "966533534908", "gradeCode": "1314", "section": "1"}, {"sid": "2294756453", "name": "عبدالرحمن مقبل علي ثابت", "phone": "966570031629", "gradeCode": "1314", "section": "1"}, {"sid": "0160253180", "name": "عبدالله مبارك عمر بن نقح", "phone": "966548415596", "gradeCode": "1314", "section": "1"}, {"sid": "2299096517", "name": "عزالدين عبده عباس علي", "phone": "966503116256", "gradeCode": "1314", "section": "1"}, {"sid": "2303423657", "name": "عزام عمر سالم سعيد", "phone": "966581870777", "gradeCode": "1314", "section": "1"}, {"sid": "1151240247", "name": "علي بن فيروز بن علي المولد", "phone": "966569347377", "gradeCode": "1314", "section": "1"}, {"sid": "3913455394", "name": "عمار ياسر عبدالقوي محسن", "phone": "966554030599", "gradeCode": "1314", "section": "1"}, {"sid": "1150220430", "name": "فراس بن محمد بن حبيب المهناء", "phone": "966532727101", "gradeCode": "1314", "section": "1"}, {"sid": "2304521947", "name": "ليث حسام عبدالرحيم حمد", "phone": "966582899702", "gradeCode": "1314", "section": "1"}, {"sid": "2306667060", "name": "ماجد نبيل يحي عثمان", "phone": "966503826765", "gradeCode": "1314", "section": "1"}, {"sid": "4194784643", "name": "مجد الدين حسام الدين محمد الصفدي", "phone": "966531662769", "gradeCode": "1314", "section": "1"}, {"sid": "2298097581", "name": "محمد الفاضل محمد عبدالمطلب", "phone": "966505864303", "gradeCode": "1314", "section": "1"}, {"sid": "1152426829", "name": "محمد زكريا محمد العوفي", "phone": "966557001829", "gradeCode": "1314", "section": "1"}, {"sid": "3618693364", "name": "محمد غازي حسام الدين الاسطه", "phone": "966582711155", "gradeCode": "1314", "section": "1"}, {"sid": "2295597872", "name": "محمد وسيم محمد الحموي", "phone": "966503843857", "gradeCode": "1314", "section": "1"}, {"sid": "2411649953", "name": "مشعل محسن علي منيباري", "phone": "966506891987", "gradeCode": "1314", "section": "1"}, {"sid": "2351147026", "name": "معتز ايمن عبدالحميد حسن", "phone": "966502414177", "gradeCode": "1314", "section": "1"}, {"sid": "2289658169", "name": "يوسف عبدالناصر محمد اليافعي", "phone": "966555555555", "gradeCode": "1314", "section": "1"}, {"sid": "2316847462", "name": "تيم حسام الراعي -", "phone": "966546269391", "gradeCode": "1314", "section": "2"}, {"sid": "2312121623", "name": "خالد علي سالم بلقحوم", "phone": "966569788666", "gradeCode": "1314", "section": "2"}, {"sid": "3891109955", "name": "ريان سليمان علي محمد سعيد", "phone": "966504922544", "gradeCode": "1314", "section": "2"}, {"sid": "2329290783", "name": "سلمان سامي سالم الحداد", "phone": "966501864290", "gradeCode": "1314", "section": "2"}, {"sid": "2346244318", "name": "عبدالرحمن طاهر عبدالله غرامه", "phone": "966547231980", "gradeCode": "1314", "section": "2"}, {"sid": "2283969596", "name": "عبدالرحمن محمد - الاحمد", "phone": "966505861290", "gradeCode": "1314", "section": "2"}, {"sid": "2283696801", "name": "عبدالعزيز حسين علي الاسودي", "phone": "966504911854", "gradeCode": "1314", "section": "2"}, {"sid": "2282044482", "name": "عبدالله محمد سالم باقديم", "phone": "966555057720", "gradeCode": "1314", "section": "2"}, {"sid": "2412200384", "name": "عبدالله محمد سعيد منيباري", "phone": "966580090901", "gradeCode": "1314", "section": "2"}, {"sid": "1152246771", "name": "عبدالمحسن بن عبدالله بن عبدالعزيز الصانع", "phone": "966509998445", "gradeCode": "1314", "section": "2"}, {"sid": "2300101520", "name": "علي محمد علي باوقاد", "phone": "966503983778", "gradeCode": "1314", "section": "2"}, {"sid": "2321040632", "name": "فارس محمد خليل العدم", "phone": "966540510569", "gradeCode": "1314", "section": "2"}, {"sid": "2304405216", "name": "مازن محمود زغلول فهمي", "phone": "966555709459", "gradeCode": "1314", "section": "2"}, {"sid": "1152056477", "name": "محمد بن عادل بن محمد الزهوان الغامدي", "phone": "966564244609", "gradeCode": "1314", "section": "2"}, {"sid": "2313316560", "name": "محمد جعفر محمد الحاج", "phone": "966540974476", "gradeCode": "1314", "section": "2"}, {"sid": "2303137075", "name": "محمد زكي صالح جابر", "phone": "966552125644", "gradeCode": "1314", "section": "2"}, {"sid": "2309506257", "name": "محمد صلاح خلف الله الحوار مسمار", "phone": "966569220758", "gradeCode": "1314", "section": "2"}, {"sid": "2327615270", "name": "محمد عبدالله مبارك نصير", "phone": "966533356147", "gradeCode": "1314", "section": "2"}, {"sid": "2287543199", "name": "محمد عمر عبدالله شملان", "phone": "966500108698", "gradeCode": "1314", "section": "2"}, {"sid": "0190803128", "name": "محمد كرم الله عوض صديق", "phone": "966509690641", "gradeCode": "1314", "section": "2"}, {"sid": "0190805352", "name": "محمد كمال العشاري أحمد", "phone": "966564120452", "gradeCode": "1314", "section": "2"}, {"sid": "0190804049", "name": "محمد محمود - المصري", "phone": "966554577769", "gradeCode": "1314", "section": "2"}, {"sid": "2335188047", "name": "محمد وائل محمد همام", "phone": "966501655219", "gradeCode": "1314", "section": "2"}, {"sid": "2080969934", "name": "محمد ورد وضاح - مشمشان", "phone": "966551260185", "gradeCode": "1314", "section": "2"}, {"sid": "2411879501", "name": "محمد ولاءالدين عمر حسن", "phone": "966537602402", "gradeCode": "1314", "section": "2"}, {"sid": "2290356662", "name": "محمود طارق ابراهيم الاسدي", "phone": "966508501994", "gradeCode": "1314", "section": "2"}, {"sid": "2316655022", "name": "مشاري هيثم - العلاوي", "phone": "966581764036", "gradeCode": "1314", "section": "2"}, {"sid": "2295654087", "name": "هتان مختار عبدالرحمن مختار", "phone": "966501261505", "gradeCode": "1314", "section": "2"}, {"sid": "1151948039", "name": "وائل بن سامي بن خليل سودقر الشماع", "phone": "966555522529", "gradeCode": "1314", "section": "2"}, {"sid": "2281879615", "name": "اسماعيل خالد علي حزام", "phone": "966540899918", "gradeCode": "1314", "section": "3"}, {"sid": "2307784781", "name": "أكرم محمد المصطفى حمد", "phone": "966556942437", "gradeCode": "1314", "section": "3"}, {"sid": "2299122776", "name": "الياس عبدالملك غالب عبدالكريم", "phone": "966503872944", "gradeCode": "1314", "section": "3"}, {"sid": "2297637668", "name": "ايمن علي مسعد الجملي", "phone": "966507998829", "gradeCode": "1314", "section": "3"}, {"sid": "1149912907", "name": "تميم عبداللطيف عبدالرزاق الشيخ", "phone": "966565588322", "gradeCode": "1314", "section": "3"}, {"sid": "2310029224", "name": "خالد عبدالرحمن عبدالله سلطان", "phone": "966598589000", "gradeCode": "1314", "section": "3"}, {"sid": "0160796518", "name": "خالد وليد عبدالمغني عبدالسلام", "phone": "966559101658", "gradeCode": "1314", "section": "3"}, {"sid": "2414499836", "name": "ريان صادق علي الخولاني", "phone": "966509862786", "gradeCode": "1314", "section": "3"}, {"sid": "2388783785", "name": "زياد محمد عبد الرازق عبد الرازق", "phone": "966546735980", "gradeCode": "1314", "section": "3"}, {"sid": "2316743182", "name": "سعود علي حسن باحجاو", "phone": "966502448166", "gradeCode": "1314", "section": "3"}, {"sid": "2293803850", "name": "سعيد محمد سعيد باناعمه", "phone": "966504840281", "gradeCode": "1314", "section": "3"}, {"sid": "1151010350", "name": "عبدالاله بن غسان بن عبدالخير محفوظ", "phone": "966507177792", "gradeCode": "1314", "section": "3"}, {"sid": "2557792971", "name": "عبدالرحمن احمد سعدى أبو العوف", "phone": "966557086993", "gradeCode": "1314", "section": "3"}, {"sid": "1152400451", "name": "عبدالعزيز بن فيصل بن عبدالله السويلم", "phone": "966551066268", "gradeCode": "1314", "section": "3"}, {"sid": "6115806652", "name": "عبدالعزيز راشد يحيى عبدالله", "phone": "966558889613", "gradeCode": "1314", "section": "3"}, {"sid": "0160258384", "name": "عبدالله وجدان ردمان الشيباني", "phone": "966536220447", "gradeCode": "1314", "section": "3"}, {"sid": "2081239559", "name": "علي رفاعي - الرفاعي", "phone": "966534508269", "gradeCode": "1314", "section": "3"}, {"sid": "1152250831", "name": "علي موسى بن حسن البراهيم", "phone": "966568622112", "gradeCode": "1314", "section": "3"}, {"sid": "2300735202", "name": "عمر حسن علي باصريح", "phone": "966554997791", "gradeCode": "1314", "section": "3"}, {"sid": "0160515834", "name": "عمران عادل محمد عبدالرحمن", "phone": "966576479311", "gradeCode": "1314", "section": "3"}, {"sid": "0150260885", "name": "عيسى علي محمد اليافعي", "phone": "966505789025", "gradeCode": "1314", "section": "3"}, {"sid": "0120786448", "name": "فهد محمد عبدالحي محمد", "phone": "966555234213", "gradeCode": "1314", "section": "3"}, {"sid": "1153637721", "name": "فيصل بن احمد بن محمد المرشد", "phone": "966545010375", "gradeCode": "1314", "section": "3"}, {"sid": "0160258667", "name": "لؤي عبدالله سالم باجبير", "phone": "966509475297", "gradeCode": "1314", "section": "3"}, {"sid": "2356550075", "name": "محمد أحمد حافظ محمد", "phone": "966546176818", "gradeCode": "1314", "section": "3"}, {"sid": "0160252838", "name": "محمد حسن أحمد البريكي", "phone": "966503514111", "gradeCode": "1314", "section": "3"}, {"sid": "0160509938", "name": "محمد هاني محمد القحازي", "phone": "966530635096", "gradeCode": "1314", "section": "3"}, {"sid": "2295456517", "name": "مؤمن صلاح صبرى محمد", "phone": "966580464789", "gradeCode": "1314", "section": "3"}, {"sid": "1154077935", "name": "نواف بن عباس بن عبدالرحمن صابر", "phone": "966547990727", "gradeCode": "1314", "section": "3"}, {"sid": "0160260774", "name": "نواف كمال علي عبدالقوي بن عبادل", "phone": "966569451565", "gradeCode": "1314", "section": "3"}, {"sid": "0160505933", "name": "همام علي ناجي زيد", "phone": "966555425046", "gradeCode": "1314", "section": "3"}, {"sid": "2288858562", "name": "ابراهيم مبخوت خميس الهميمي", "phone": "966508107776", "gradeCode": "1314", "section": "4"}, {"sid": "2299371381", "name": "احمد عدنان عبدالله بانواس", "phone": "966550551379", "gradeCode": "1314", "section": "4"}, {"sid": "2289934917", "name": "اسامه حافظ محمد المحمد", "phone": "966554359463", "gradeCode": "1314", "section": "4"}, {"sid": "2283960934", "name": "اسامه عمر - زنطح", "phone": "966537142439", "gradeCode": "1314", "section": "4"}, {"sid": "2298118775", "name": "اسامه محمد همام عجاج", "phone": "966569205248", "gradeCode": "1314", "section": "4"}, {"sid": "2287018721", "name": "باسم هانى رجب ابراهيم", "phone": "966536876628", "gradeCode": "1314", "section": "4"}, {"sid": "1149926246", "name": "بدر احمد بن علي بوخليف", "phone": "966505706225", "gradeCode": "1314", "section": "4"}, {"sid": "2297995090", "name": "جود رامي - التلا", "phone": "966548102802", "gradeCode": "1314", "section": "4"}, {"sid": "2290303458", "name": "حسان شوقي محمد حسان", "phone": "966508141398", "gradeCode": "1314", "section": "4"}, {"sid": "4198833024", "name": "خالد فهمي هزاع نصر", "phone": "966568180598", "gradeCode": "1314", "section": "4"}, {"sid": "3950061758", "name": "خالد محمود - الابراهيم العبدالله", "phone": "966562261972", "gradeCode": "1314", "section": "4"}, {"sid": "1148669698", "name": "رواف بن هاني بن صالح ألبوأدوم الدوسري", "phone": "966504905399", "gradeCode": "1314", "section": "4"}, {"sid": "2293958654", "name": "ريان طارق جمعان بادعام", "phone": "966506860741", "gradeCode": "1314", "section": "4"}, {"sid": "2312574870", "name": "سلطان رواد احمد الكثيري", "phone": "966545007126", "gradeCode": "1314", "section": "4"}, {"sid": "2309314884", "name": "عبدالرحمن اكرم عبده جحيش", "phone": "966535676555", "gradeCode": "1314", "section": "4"}, {"sid": "1149835090", "name": "عبدالعزيز عدنان بن عبدالله البراهيم", "phone": "966551476584", "gradeCode": "1314", "section": "4"}, {"sid": "1154204653", "name": "عبدالله بن يونس بن مشبب آل جميل العمري", "phone": "966552901111", "gradeCode": "1314", "section": "4"}, {"sid": "1154249765", "name": "عبدالمحسن محمد عبدالمحسن الحاجي", "phone": "966565173631", "gradeCode": "1314", "section": "4"}, {"sid": "2297868248", "name": "علي مروان علي عبدالرب", "phone": "966555167467", "gradeCode": "1314", "section": "4"}, {"sid": "2282734595", "name": "عمار مازن احمد بابكري", "phone": "966502849093", "gradeCode": "1314", "section": "4"}, {"sid": "2291017909", "name": "عمر محمد فتحى عوض", "phone": "966552318709", "gradeCode": "1314", "section": "4"}, {"sid": "2285205148", "name": "عمر محمد نضال - موسى", "phone": "966569300962", "gradeCode": "1314", "section": "4"}, {"sid": "2300767379", "name": "فهد محمد أحمد النهدي", "phone": "966500771135", "gradeCode": "1314", "section": "4"}, {"sid": "1146297526", "name": "فيصل بن ثويني بن مسفر الزهيري", "phone": "966543536992", "gradeCode": "1314", "section": "4"}, {"sid": "2298201118", "name": "قصي انس محمد الساعاتي", "phone": "966509883585", "gradeCode": "1314", "section": "4"}, {"sid": "2307023487", "name": "ليث باسل - الحموي", "phone": "966501492797", "gradeCode": "1314", "section": "4"}, {"sid": "3718716768", "name": "محمد سلطان حسين العولقي", "phone": "966506236948", "gradeCode": "1314", "section": "4"}, {"sid": "2281618922", "name": "مصطفى محمد مصطفى موسى", "phone": "966509770191", "gradeCode": "1314", "section": "4"}, {"sid": "2279747600", "name": "مصعب محمد - علي", "phone": "966501837713", "gradeCode": "1314", "section": "4"}, {"sid": "2300563448", "name": "مهند ليث جودت المرداوي", "phone": "966593377432", "gradeCode": "1314", "section": "4"}, {"sid": "1153184401", "name": "يزن بن علي بن احمد الحنيش", "phone": "966503733429", "gradeCode": "1314", "section": "4"}, {"sid": "0160257218", "name": "اكرم صادق علي قاسم", "phone": "966508881238", "gradeCode": "1314", "section": "5"}, {"sid": "0160252685", "name": "البراء شوقي نصر الجماعي", "phone": "966507800117", "gradeCode": "1314", "section": "5"}, {"sid": "0160516624", "name": "أيمن محمد فرحان المرشد", "phone": "966552933431", "gradeCode": "1314", "section": "5"}, {"sid": "2074433524", "name": "ايهم فراس فاروق حمزة", "phone": "966581722455", "gradeCode": "1314", "section": "5"}, {"sid": "2283949051", "name": "حسن عمر - لبابيدي", "phone": "966558830322", "gradeCode": "1314", "section": "5"}, {"sid": "0160257211", "name": "حسين عبدالرحمن حسين السقاف", "phone": "966500505699", "gradeCode": "1314", "section": "5"}, {"sid": "2289975225", "name": "حمزه علي مصطفى الحمصي", "phone": "966582891810", "gradeCode": "1314", "section": "5"}, {"sid": "05899778", "name": "خالد عمار أحمد الفراصي", "phone": "966534072942", "gradeCode": "1314", "section": "5"}, {"sid": "1148961236", "name": "راشد خضران بن صالح الزهراني", "phone": "966504843678", "gradeCode": "1314", "section": "5"}, {"sid": "2287640870", "name": "راشد محمد ابو بكر حسين", "phone": "966506411598", "gradeCode": "1314", "section": "5"}, {"sid": "0070785680", "name": "زياد محمد عيد الجيوشي", "phone": "966542770755", "gradeCode": "1314", "section": "5"}, {"sid": "2289150506", "name": "زيد بلال احمد ابوسليم", "phone": "966509182692", "gradeCode": "1314", "section": "5"}, {"sid": "0160517973", "name": "سعيد وليد محمد باشعيب", "phone": "966552021565", "gradeCode": "1314", "section": "5"}, {"sid": "2285357782", "name": "سمير احمد - خيرالله", "phone": "966502429221", "gradeCode": "1314", "section": "5"}, {"sid": "1150611026", "name": "عبدالاله بن منصور بن عبدالرحمن المنصور", "phone": "966562410000", "gradeCode": "1314", "section": "5"}, {"sid": "2274791462", "name": "عبدالجليل هشام - عبدالرحمن", "phone": "966508110117", "gradeCode": "1314", "section": "5"}, {"sid": "0160803071", "name": "عبدالله مبارك أحمد علي", "phone": "966569233899", "gradeCode": "1314", "section": "5"}, {"sid": "05082254", "name": "عدنان فهد راجح المنتصر", "phone": "966553375286", "gradeCode": "1314", "section": "5"}, {"sid": "0160509937", "name": "عمر مختار ابوبكر شائف", "phone": "966552133020", "gradeCode": "1314", "section": "5"}, {"sid": "1151828744", "name": "فهد بن حسن بن عامر ال محجوبه الشهري", "phone": "966598893731", "gradeCode": "1314", "section": "5"}, {"sid": "2289760452", "name": "كريم عامر احمد العياصره", "phone": "966532881270", "gradeCode": "1314", "section": "5"}, {"sid": "1151246194", "name": "محمد بن محسن بن محمد الجويد", "phone": "966555578408", "gradeCode": "1314", "section": "5"}, {"sid": "0160804068", "name": "محمد عوض محمد بلعويله", "phone": "966556227021", "gradeCode": "1314", "section": "5"}, {"sid": "2293715625", "name": "محمد ياسر عبدالقيوم محمد خير", "phone": "966535302853", "gradeCode": "1314", "section": "5"}, {"sid": "0150786015", "name": "مصطفى عبدالرحيم  صالح", "phone": "966509884040", "gradeCode": "1314", "section": "5"}, {"sid": "2291247100", "name": "منيب عبدالله محمد علي", "phone": "966502113149", "gradeCode": "1314", "section": "5"}, {"sid": "2285458762", "name": "موسى محمد فرج حمو", "phone": "966501010328", "gradeCode": "1314", "section": "5"}, {"sid": "2292443161", "name": "يوسف سالم محمد الجنيدي", "phone": "966534361690", "gradeCode": "1314", "section": "5"}, {"sid": "2275230205", "name": "يونس سعد الدين محمد حمزه", "phone": "966563568883", "gradeCode": "1314", "section": "5"}, {"sid": "2300556897", "name": "اسامه نادر حسن عيد", "phone": "966503848153", "gradeCode": "1314", "section": "6"}, {"sid": "2301171985", "name": "اسيد شادي محمود خاروف", "phone": "966531455912", "gradeCode": "1314", "section": "6"}, {"sid": "2385607623", "name": "ايمن عادل علي عبدالجليل عبدالوهاب", "phone": "966533286472", "gradeCode": "1314", "section": "6"}, {"sid": "2302918905", "name": "ايهم انس فؤاد شاهين", "phone": "966566371120", "gradeCode": "1314", "section": "6"}, {"sid": "2298611761", "name": "تيم محمد علي عبدالإله بغدادي", "phone": "966503967608", "gradeCode": "1314", "section": "6"}, {"sid": "2301845182", "name": "جهاد وليد حسن سلامه", "phone": "966553559295", "gradeCode": "1314", "section": "6"}, {"sid": "1150045787", "name": "حسن بن قاسم بن حسن البحيري", "phone": "966547501109", "gradeCode": "1314", "section": "6"}, {"sid": "1148848227", "name": "حمد بن خالد بن شافي القاسم", "phone": "966507569756", "gradeCode": "1314", "section": "6"}, {"sid": "2299869525", "name": "حمزه وائل محمد طافش", "phone": "966537830092", "gradeCode": "1314", "section": "6"}, {"sid": "2321135572", "name": "ريان عماد مطاوع كريزم", "phone": "966567131113", "gradeCode": "1314", "section": "6"}, {"sid": "2308408794", "name": "عبدالرحمن محمد مهيوب عبدالله", "phone": "966559952535", "gradeCode": "1314", "section": "6"}, {"sid": "2314530102", "name": "عبدالرحمن محمداياد احمد الزنبركجي", "phone": "966508556000", "gradeCode": "1314", "section": "6"}, {"sid": "1150974697", "name": "عبدالله بن حمد بن طاهر مجربي", "phone": "966566008777", "gradeCode": "1314", "section": "6"}, {"sid": "1150382610", "name": "عبدالله بن سمير بن عبدالله الودعاني الدوسري", "phone": "966598675174", "gradeCode": "1314", "section": "6"}, {"sid": "2300850977", "name": "عدي رامي هشام ملاح", "phone": "966542988922", "gradeCode": "1314", "section": "6"}, {"sid": "2316505060", "name": "علي حسن علي مراد", "phone": "966506806712", "gradeCode": "1314", "section": "6"}, {"sid": "2297238210", "name": "علي محمد علي عبدالرب", "phone": "966555339879", "gradeCode": "1314", "section": "6"}, {"sid": "2323531638", "name": "عمار مختار محسن علي", "phone": "966535363057", "gradeCode": "1314", "section": "6"}, {"sid": "2299886156", "name": "عمار ياسر محمود ابوالعز", "phone": "966508473568", "gradeCode": "1314", "section": "6"}, {"sid": "2299886164", "name": "عمرو ياسر محمود ابوالعز", "phone": "966508473568", "gradeCode": "1314", "section": "6"}, {"sid": "1150148524", "name": "فيصل جابر بن ناصر عداوي", "phone": "966504993524", "gradeCode": "1314", "section": "6"}, {"sid": "2300525504", "name": "فيصل عبدالسلام رهيش الجربي", "phone": "966570702736", "gradeCode": "1314", "section": "6"}, {"sid": "2302918913", "name": "مالك انس فؤاد شاهين", "phone": "966566371120", "gradeCode": "1314", "section": "6"}, {"sid": "2296222488", "name": "محمد احمد هزاع عبدالرب", "phone": "966537077208", "gradeCode": "1314", "section": "6"}, {"sid": "2304321868", "name": "محمد خالد محمد حمد", "phone": "966558109141", "gradeCode": "1314", "section": "6"}, {"sid": "2299988465", "name": "محمد مبين رزان محمد مبين كلسلي", "phone": "966547670006", "gradeCode": "1314", "section": "6"}, {"sid": "2317561294", "name": "مشعل سمير مبارك نصير", "phone": "966508784989", "gradeCode": "1314", "section": "6"}, {"sid": "2313604759", "name": "ملهم حلمي يوسف ابوحمد", "phone": "966533172039", "gradeCode": "1314", "section": "6"}, {"sid": "2302570599", "name": "وليد فضل عبدالله بن سبعه", "phone": "966503884021", "gradeCode": "1314", "section": "6"}, {"sid": "2295020917", "name": "يحيى مصطفى - ورده", "phone": "966508458792", "gradeCode": "1314", "section": "6"}, {"sid": "2312090331", "name": "يوسف - - براملي", "phone": "966568709600", "gradeCode": "1314", "section": "6"}, {"sid": "1152067177", "name": "أحمد شاكر محمد الرهيش", "phone": "966504989675", "gradeCode": "1314", "section": "7"}, {"sid": "2349301875", "name": "احمد محمد محمود العبيد", "phone": "966564983411", "gradeCode": "1314", "section": "7"}, {"sid": "2500889296", "name": "احمد مصطفى عبدالمتعال السيد", "phone": "966530688971", "gradeCode": "1314", "section": "7"}, {"sid": "A18198997", "name": "اسر محمد عبدالفتاح محمد عبدالنبى", "phone": "966542966530", "gradeCode": "1314", "section": "7"}, {"sid": "2425493091", "name": "خالد عادل رجب محمود", "phone": "966566557703", "gradeCode": "1314", "section": "7"}, {"sid": "4004302842", "name": "خالد عبدالله عمر قروان", "phone": "966508699669", "gradeCode": "1314", "section": "7"}, {"sid": "2302200551", "name": "خالد محمد أحمد جابر", "phone": "966504911668", "gradeCode": "1314", "section": "7"}, {"sid": "2303103812", "name": "راشد محمد علي حزام", "phone": "966500060946", "gradeCode": "1314", "section": "7"}, {"sid": "2358195036", "name": "سهيل محمد احمد الجوهي", "phone": "966563333808", "gradeCode": "1314", "section": "7"}, {"sid": "2297870400", "name": "عبدالرحمن محمد عبدالله نقح", "phone": "966504998043", "gradeCode": "1314", "section": "7"}, {"sid": "2293304289", "name": "عبدالرحمن يعقوب عبدالرحمن يعقوب", "phone": "966506027802", "gradeCode": "1314", "section": "7"}, {"sid": "4135449231", "name": "عبدالرحيم نصر عبادي ثابت", "phone": "966508588009", "gradeCode": "1314", "section": "7"}, {"sid": "1149783571", "name": "عبدالله بن يوسف بن عيسى العيد", "phone": "966592038351", "gradeCode": "1314", "section": "7"}, {"sid": "1150964367", "name": "عبدالله سعيد مبارك الدوسري", "phone": "966567146381", "gradeCode": "1314", "section": "7"}, {"sid": "2300684723", "name": "عبدالله فهمي عبدالله الكثيري", "phone": "966500061014", "gradeCode": "1314", "section": "7"}, {"sid": "2375823503", "name": "عبدالله محمد الحسيني بيدة", "phone": "966541020927", "gradeCode": "1314", "section": "7"}, {"sid": "2581903131", "name": "على ظافر احمد شاهين", "phone": "966590759558", "gradeCode": "1314", "section": "7"}, {"sid": "2408672083", "name": "علي محمد جعفر بن عقيل", "phone": "966507834745", "gradeCode": "1314", "section": "7"}, {"sid": "2413676905", "name": "عمار ياسر محمد عوض", "phone": "966569400999", "gradeCode": "1314", "section": "7"}, {"sid": "2425493083", "name": "عمر عادل رجب محمود", "phone": "966566557703", "gradeCode": "1314", "section": "7"}, {"sid": "2308877097", "name": "عمر محمد عمر الهميمي", "phone": "966507166139", "gradeCode": "1314", "section": "7"}, {"sid": "2397515616", "name": "غيث سامر محمد الغيلاني", "phone": "966535667150", "gradeCode": "1314", "section": "7"}, {"sid": "3512157557", "name": "غيث محمد سامر - سعد", "phone": "966563426252", "gradeCode": "1314", "section": "7"}, {"sid": "2574518987", "name": "محمد امير محمد حسن", "phone": "966531329559", "gradeCode": "1314", "section": "7"}, {"sid": "1150967378", "name": "محمد بن حسن بن يوسف الخليفه", "phone": "966506907431", "gradeCode": "1314", "section": "7"}, {"sid": "2551045475", "name": "محمد رائد عاطف ابو موجه", "phone": "966530490305", "gradeCode": "1314", "section": "7"}, {"sid": "2473559991", "name": "مزمل محمد مسعد السرور", "phone": "966531659030", "gradeCode": "1314", "section": "7"}, {"sid": "2398803060", "name": "مسعد امين مسعد عبده المنتصر", "phone": "966535183509", "gradeCode": "1314", "section": "7"}, {"sid": "1151952106", "name": "منذر بن خالد بن سالم بن صويلح", "phone": "966541043335", "gradeCode": "1314", "section": "7"}, {"sid": "2405535424", "name": "يوسف سعيد سالم مديحج", "phone": "966551192588", "gradeCode": "1314", "section": "7"}, {"sid": "2408665871", "name": "يوسف منير حسن الكبسي", "phone": "966536247140", "gradeCode": "1314", "section": "7"}, {"sid": "1104396880", "name": "حسن موسى بن احمد الحميد", "phone": "966576878304", "gradeCode": "1314", "section": "8"}, {"sid": "1035430469", "name": "علي احمد عبدالله الجامع", "phone": "966501247636", "gradeCode": "1314", "section": "8"}, {"sid": "1106809252", "name": "محمد بن عبدالله بن احمد حسن", "phone": "966565516967", "gradeCode": "1314", "section": "8"}, {"sid": "1078218854", "name": "محمد منصور حميدي الداودي", "phone": "", "gradeCode": "1314", "section": "8"}, {"sid": "4688447897", "name": "احمد محمد احمد هبه سعيد", "phone": "966583532158", "gradeCode": "1416", "section": "1"}, {"sid": "0050809867", "name": "احمد نصر الدين محمد عثمان", "phone": "966557537650", "gradeCode": "1416", "section": "1"}, {"sid": "0160509925", "name": "اسيد زكي حميد البدري", "phone": "966501352895", "gradeCode": "1416", "section": "1"}, {"sid": "2283194575", "name": "أواب اسامة محمد عثمان", "phone": "966570462866", "gradeCode": "1416", "section": "1"}, {"sid": "1147451882", "name": "بدر بن عبدالله بن صالح الزهراني", "phone": "966556883342", "gradeCode": "1416", "section": "1"}, {"sid": "1146498926", "name": "بدر بن عماد بن محمد الثنيان", "phone": "966552226456", "gradeCode": "1416", "section": "1"}, {"sid": "1147840266", "name": "بسام بن خالد بن مسفر ال دليم القحطاني", "phone": "966504814561", "gradeCode": "1416", "section": "1"}, {"sid": "0160257213", "name": "بشير احمد احمد محمد العمري", "phone": "966500330783", "gradeCode": "1416", "section": "1"}, {"sid": "1146654866", "name": "تميم وليد بن خليل العلي", "phone": "966507427297", "gradeCode": "1416", "section": "1"}, {"sid": "1145945281", "name": "جابر بن حمد بن عبدالرحمن ال عايض الفهادي", "phone": "966558235445", "gradeCode": "1416", "section": "1"}, {"sid": "1145449433", "name": "حسن بن علي بن حسن العوفي", "phone": "966509677556", "gradeCode": "1416", "section": "1"}, {"sid": "2282302310", "name": "حسين عزالدين علي الشبيبي", "phone": "966551939202", "gradeCode": "1416", "section": "1"}, {"sid": "0160509940", "name": "راكان علي مهيوب الحيدري", "phone": "966598988932", "gradeCode": "1416", "section": "1"}, {"sid": "0160252690", "name": "رامز أنور سعيد الهلالي", "phone": "966508591622", "gradeCode": "1416", "section": "1"}, {"sid": "2421452125", "name": "رامي خالد احمد صالح", "phone": "966500042970", "gradeCode": "1416", "section": "1"}, {"sid": "05864792", "name": "زيد عبدالله عمر قروان", "phone": "966508699669", "gradeCode": "1416", "section": "1"}, {"sid": "1148031840", "name": "عبد الرحمن بن محمد بن عبد الله القحطاني", "phone": "966505747394", "gradeCode": "1416", "section": "1"}, {"sid": "2474668999", "name": "عبد المعز عماد امين فلاحه", "phone": "966536350638", "gradeCode": "1416", "section": "1"}, {"sid": "3141044413", "name": "عبدالرحمن فهمان ثابت العبادي", "phone": "966564710135", "gradeCode": "1416", "section": "1"}, {"sid": "1147216699", "name": "عبدالله بن عوض بن محمد الجعاوله الغامدي", "phone": "966532262091", "gradeCode": "1416", "section": "1"}, {"sid": "1146092307", "name": "علي بن عمار بن محمد العايش", "phone": "966535828555", "gradeCode": "1416", "section": "1"}, {"sid": "1148224551", "name": "فهد بن أحمد بن عيسى حدادي", "phone": "966506837407", "gradeCode": "1416", "section": "1"}, {"sid": "1147296386", "name": "فياض بن فارس بن محمد المرشد", "phone": "966568976339", "gradeCode": "1416", "section": "1"}, {"sid": "1147929291", "name": "فيصل بن أحمد بن حبيب المهناء", "phone": "966533178834", "gradeCode": "1416", "section": "1"}, {"sid": "1145973390", "name": "فيصل بن محمد بن موسى عسيري", "phone": "966567354777", "gradeCode": "1416", "section": "1"}, {"sid": "0160509944", "name": "فيصل خالد أحمد الضبياني", "phone": "966501177488", "gradeCode": "1416", "section": "1"}, {"sid": "004131726", "name": "ليث كمال - الابرش", "phone": "966554279151", "gradeCode": "1416", "section": "1"}, {"sid": "1147296428", "name": "محمد بن عبدالله بن محمد المرشد", "phone": "966567967935", "gradeCode": "1416", "section": "1"}, {"sid": "0160260455", "name": "محمد توفيق محمد الفتيحي", "phone": "966505430045", "gradeCode": "1416", "section": "1"}, {"sid": "0160257212", "name": "محمد صلاح محمد العمري", "phone": "966537730073", "gradeCode": "1416", "section": "1"}, {"sid": "0160509924", "name": "محمد وهيب امين سيف", "phone": "966582086333", "gradeCode": "1416", "section": "1"}, {"sid": "2306526365", "name": "محمود وليد عبدالله باطرفي", "phone": "966548585222", "gradeCode": "1416", "section": "1"}, {"sid": "0160257009", "name": "ناصر أكرم ناصر جعران", "phone": "966502211002", "gradeCode": "1416", "section": "1"}, {"sid": "1143850509", "name": "ناصر بن فهد بن ابراهيم الناصر", "phone": "966546913719", "gradeCode": "1416", "section": "1"}, {"sid": "0160258129", "name": "نذير منذر سعيد عبدالله", "phone": "966540252741", "gradeCode": "1416", "section": "1"}, {"sid": "0160509941", "name": "نقيب عادل سيف العبادي", "phone": "966504551072", "gradeCode": "1416", "section": "1"}, {"sid": "1147933814", "name": "نوح بن عبدالعزيز بن محمد العوفي", "phone": "966509939299", "gradeCode": "1416", "section": "1"}, {"sid": "2274454822", "name": "احمد عبدالله احمد باسليمان", "phone": "966535764605", "gradeCode": "1416", "section": "2"}, {"sid": "4753766115", "name": "الياس مجدي نصر محمد", "phone": "966501431115", "gradeCode": "1416", "section": "2"}, {"sid": "2273660098", "name": "امير - - عبدالعظيم", "phone": "966559328996", "gradeCode": "1416", "section": "2"}, {"sid": "2269291403", "name": "بدر يوسف ناصر الجبري", "phone": "966507193043", "gradeCode": "1416", "section": "2"}, {"sid": "N008711332", "name": "بلال نور الدين محمد رضا المصري", "phone": "966538864829", "gradeCode": "1416", "section": "2"}, {"sid": "1147050288", "name": "ثنيان بن مسلم بن عبود البرازي المطيري", "phone": "966530380338", "gradeCode": "1416", "section": "2"}, {"sid": "2272820149", "name": "حارثه مثنى عبدالساتر طليمات", "phone": "966550681683", "gradeCode": "1416", "section": "2"}, {"sid": "2276504236", "name": "حازم يحيى طايع عبدالباسط", "phone": "966531406930", "gradeCode": "1416", "section": "2"}, {"sid": "1150471397", "name": "حسين بن يحي بن علي العوفي", "phone": "966538190306", "gradeCode": "1416", "section": "2"}, {"sid": "2277185704", "name": "راكان نمران - باعاصم", "phone": "966506831273", "gradeCode": "1416", "section": "2"}, {"sid": "2276535651", "name": "سعد خالد خميس السويبق", "phone": "966556648006", "gradeCode": "1416", "section": "2"}, {"sid": "2274341730", "name": "سليمان فرج - باضاوي", "phone": "966558890695", "gradeCode": "1416", "section": "2"}, {"sid": "1140764810", "name": "طارق بن عبد الناصر بن سعد الزهراني", "phone": "966563007002", "gradeCode": "1416", "section": "2"}, {"sid": "2275933857", "name": "عبد الرحمن ياسر عبد الرحمن محمد", "phone": "966569251165", "gradeCode": "1416", "section": "2"}, {"sid": "2274375076", "name": "عبدالرحمن معاذ - ابوسل", "phone": "966591975263", "gradeCode": "1416", "section": "2"}, {"sid": "2270597616", "name": "عبدالعزيز ابراهيم فرحان العوادت", "phone": "966509430872", "gradeCode": "1416", "section": "2"}, {"sid": "1147725004", "name": "عبدالعزيز علي حسن القحطاني", "phone": "966508966664", "gradeCode": "1416", "section": "2"}, {"sid": "2274034418", "name": "عبدالله عبدالعزيز منهل دندشي", "phone": "966508778857", "gradeCode": "1416", "section": "2"}, {"sid": "2267247241", "name": "عبدالله فهد عبدالله سفيان", "phone": "966562229228", "gradeCode": "1416", "section": "2"}, {"sid": "2064035761", "name": "عبدالله محمود - المحمد", "phone": "966562452260", "gradeCode": "1416", "section": "2"}, {"sid": "2268680655", "name": "علي ابراهيم علي علوان", "phone": "966595952962", "gradeCode": "1416", "section": "2"}, {"sid": "1149504209", "name": "علي بن ناجي بن عبدالله الخلف", "phone": "966592211415", "gradeCode": "1416", "section": "2"}, {"sid": "2271894301", "name": "عمار ياسر عبدالقيوم محمدخير", "phone": "966535302853", "gradeCode": "1416", "section": "2"}, {"sid": "2270046580", "name": "عمر باسل جمال الشافعي", "phone": "966504908359", "gradeCode": "1416", "section": "2"}, {"sid": "2261677872", "name": "عمر علي - الحمصي", "phone": "966582891810", "gradeCode": "1416", "section": "2"}, {"sid": "2276182892", "name": "عمر محمد - ابراهيم", "phone": "966509284776", "gradeCode": "1416", "section": "2"}, {"sid": "1156176016", "name": "فارس بن عباس بن عبدالله الجمعه", "phone": "966509733554", "gradeCode": "1416", "section": "2"}, {"sid": "2274217765", "name": "فيصل ازهر موسى ابوصفيه", "phone": "966502947847", "gradeCode": "1416", "section": "2"}, {"sid": "2274121470", "name": "مالك انس عباس التوم", "phone": "966541700767", "gradeCode": "1416", "section": "2"}, {"sid": "2080995780", "name": "مجد معاذ محمد ربيعة", "phone": "966570308671", "gradeCode": "1416", "section": "2"}, {"sid": "2273276432", "name": "محمد حافظ محمد المحمد", "phone": "966554359463", "gradeCode": "1416", "section": "2"}, {"sid": "2272911757", "name": "محمد مصطفي - لصوي", "phone": "966506836645", "gradeCode": "1416", "section": "2"}, {"sid": "2271162402", "name": "محمد نجيب عبدالله العواضي", "phone": "966505681206", "gradeCode": "1416", "section": "2"}, {"sid": "2258401989", "name": "محمود هيثم محمود محمد", "phone": "966556183602", "gradeCode": "1416", "section": "2"}, {"sid": "0160253177", "name": "مكرم أمين محمد علي", "phone": "966577067494", "gradeCode": "1416", "section": "2"}, {"sid": "2273411880", "name": "مؤيد عصام الدين قاسم دياب", "phone": "966507553774", "gradeCode": "1416", "section": "2"}, {"sid": "2271240612", "name": "يحي صهيب عطية الغول", "phone": "966557662585", "gradeCode": "1416", "section": "2"}, {"sid": "2074110540", "name": "يزن اسامه عبدالله الجاحد", "phone": "966560602426", "gradeCode": "1416", "section": "2"}, {"sid": "2283771661", "name": "احمد امجد احمد جبران", "phone": "966505268997", "gradeCode": "1416", "section": "3"}, {"sid": "2283342554", "name": "احمد عبد السلام - القادري", "phone": "966561114148", "gradeCode": "1416", "section": "3"}, {"sid": "2283885370", "name": "احمد محمد - قاسم", "phone": "966559101265", "gradeCode": "1416", "section": "3"}, {"sid": "2277563298", "name": "تيم خالد - الطباع", "phone": "966558080672", "gradeCode": "1416", "section": "3"}, {"sid": "2526488602", "name": "حسن عماد مصطفى ابراهيم", "phone": "966542158877", "gradeCode": "1416", "section": "3"}, {"sid": "2281824942", "name": "حسن مـحمد - علي", "phone": "966555786268", "gradeCode": "1416", "section": "3"}, {"sid": "2283142038", "name": "حسين سامر حسين احمد", "phone": "966504879521", "gradeCode": "1416", "section": "3"}, {"sid": "2279599928", "name": "خالد دهري طة محمد", "phone": "966507073581", "gradeCode": "1416", "section": "3"}, {"sid": "2278189705", "name": "رمزي مهند رمزي قاسم", "phone": "966501673918", "gradeCode": "1416", "section": "3"}, {"sid": "2283947220", "name": "زياد عمر محمد طويلان", "phone": "966531060609", "gradeCode": "1416", "section": "3"}, {"sid": "2280313814", "name": "زياد مختار مهيوب سعيد", "phone": "966507944208", "gradeCode": "1416", "section": "3"}, {"sid": "2282778923", "name": "سعد وسيم كنعان الزيبق", "phone": "966503895476", "gradeCode": "1416", "section": "3"}, {"sid": "2282495387", "name": "سلطان عماد - عبدالرحمن", "phone": "966503449360", "gradeCode": "1416", "section": "3"}, {"sid": "2279245886", "name": "عبدالرحمن وائل - النجار", "phone": "966541321267", "gradeCode": "1416", "section": "3"}, {"sid": "2278051798", "name": "عبدالعزيز علاء الدين - بصله", "phone": "966530796435", "gradeCode": "1416", "section": "3"}, {"sid": "2280641818", "name": "عبدالعزيز محمد - ابراهيم", "phone": "966503822382", "gradeCode": "1416", "section": "3"}, {"sid": "1146297534", "name": "عبدالله بن ثويني بن مسفر الزهيري", "phone": "966543536992", "gradeCode": "1416", "section": "3"}, {"sid": "2283347819", "name": "عبدالله ياسر مصطفى العوض", "phone": "966598817156", "gradeCode": "1416", "section": "3"}, {"sid": "2279260281", "name": "عبدالملك مروان - صالح", "phone": "966552727007", "gradeCode": "1416", "section": "3"}, {"sid": "2282792171", "name": "علاء فؤاد - القباني", "phone": "966503891220", "gradeCode": "1416", "section": "3"}, {"sid": "2284124654", "name": "علي حسين حيدر عبدالولي", "phone": "966535794573", "gradeCode": "1416", "section": "3"}, {"sid": "2281992103", "name": "علي محمد خالد محمد احمد", "phone": "966508441207", "gradeCode": "1416", "section": "3"}, {"sid": "1148600982", "name": "عمار بن عبدالعزيز بن عبدالرحيم الغامدي", "phone": "966500020166", "gradeCode": "1416", "section": "3"}, {"sid": "2282904131", "name": "فارس احمد - الطه", "phone": "966555931001", "gradeCode": "1416", "section": "3"}, {"sid": "2281338299", "name": "فراس فرسان - عبدالغني", "phone": "966560776623", "gradeCode": "1416", "section": "3"}, {"sid": "2386233437", "name": "فهد راجح فضل العمري", "phone": "966533128891", "gradeCode": "1416", "section": "3"}, {"sid": "1146977945", "name": "فيصل بن عبدالرحمن بن يحيى حدادي", "phone": "966555883617", "gradeCode": "1416", "section": "3"}, {"sid": "2278988338", "name": "مجد فادي - السليمان", "phone": "966555424633", "gradeCode": "1416", "section": "3"}, {"sid": "2280969128", "name": "محمد أنس عبدالله بن عجاج", "phone": "966569999962", "gradeCode": "1416", "section": "3"}, {"sid": "2280778958", "name": "محمد خالد محمد عبدالرب", "phone": "966544508000", "gradeCode": "1416", "section": "3"}, {"sid": "2281535175", "name": "محمد صالح فهد - قيسر", "phone": "966559241411", "gradeCode": "1416", "section": "3"}, {"sid": "2280308756", "name": "محمد وسيم محمد الصباغ", "phone": "966561831836", "gradeCode": "1416", "section": "3"}, {"sid": "2283609556", "name": "منصور شداد حسن الوجيه", "phone": "966509992926", "gradeCode": "1416", "section": "3"}, {"sid": "2281138277", "name": "ياسر عساف عبدالحافظ غالب", "phone": "966557134562", "gradeCode": "1416", "section": "3"}, {"sid": "2279848168", "name": "ياسر محمد سالمين مخاشن", "phone": "966502211700", "gradeCode": "1416", "section": "3"}, {"sid": "2279880260", "name": "يوسف محمدرضوان - ريحاني", "phone": "966552226520", "gradeCode": "1416", "section": "3"}, {"sid": "2279000653", "name": "يونس حسين صالح حسين", "phone": "966504915457", "gradeCode": "1416", "section": "3"}, {"sid": "3788652638", "name": "ابراهيم نهاد عبدالوهاب النايف", "phone": "966509156040", "gradeCode": "1416", "section": "4"}, {"sid": "2289052868", "name": "أحمد عصام أحمد أبوزيد", "phone": "966509883030", "gradeCode": "1416", "section": "4"}, {"sid": "2279075416", "name": "أحمد فائز - علاو", "phone": "966533999415", "gradeCode": "1416", "section": "4"}, {"sid": "2291397517", "name": "احمد محبوب احمد المخلافي", "phone": "966508267251", "gradeCode": "1416", "section": "4"}, {"sid": "2286526856", "name": "احمد ياسين سيف نعمان", "phone": "966550590950", "gradeCode": "1416", "section": "4"}, {"sid": "2289195667", "name": "اسامه ماهر علي صالح", "phone": "966509198923", "gradeCode": "1416", "section": "4"}, {"sid": "2292133531", "name": "امير احمد جميل ابوسل", "phone": "966505972401", "gradeCode": "1416", "section": "4"}, {"sid": "2285142853", "name": "انس وليد احمد عبدالعزيز محمود", "phone": "966503462272", "gradeCode": "1416", "section": "4"}, {"sid": "2285171621", "name": "أيمن محمد صالح الجيلاني", "phone": "966540849363", "gradeCode": "1416", "section": "4"}, {"sid": "2293552911", "name": "تركي عبدالله علي الشبيبي", "phone": "966503958047", "gradeCode": "1416", "section": "4"}, {"sid": "2292429905", "name": "حسام سمير صبحي البابا", "phone": "966543494623", "gradeCode": "1416", "section": "4"}, {"sid": "1148992348", "name": "سعد بن بندر بن جبار المطيري", "phone": "966566532227", "gradeCode": "1416", "section": "4"}, {"sid": "2293933251", "name": "سلمان سليمان ابراهيم ابو عزة", "phone": "966502207776", "gradeCode": "1416", "section": "4"}, {"sid": "2291617328", "name": "سلمان عبدالله أحمد باصره", "phone": "966507617060", "gradeCode": "1416", "section": "4"}, {"sid": "2284251093", "name": "سليم فطين سليم محمد مسعود", "phone": "966565009420", "gradeCode": "1416", "section": "4"}, {"sid": "2289002525", "name": "طارق محمد ابراهيم عبدون", "phone": "966502293966", "gradeCode": "1416", "section": "4"}, {"sid": "2285968794", "name": "عادل عماد حسن الشيوري", "phone": "966502060114", "gradeCode": "1416", "section": "4"}, {"sid": "2354639235", "name": "عايض محمد عبدالله الكثيري", "phone": "966505934468", "gradeCode": "1416", "section": "4"}, {"sid": "2289830115", "name": "عبدالرحمن مجدي حامد الخراشي", "phone": "966583195727", "gradeCode": "1416", "section": "4"}, {"sid": "2291142814", "name": "عبدالعزيز ايمن علي الموسي", "phone": "966505726620", "gradeCode": "1416", "section": "4"}, {"sid": "1148400193", "name": "عبدالعزيز بن يوسف بن محمد الصليبيخ", "phone": "966505927596", "gradeCode": "1416", "section": "4"}, {"sid": "2285956351", "name": "عبدالعزيز سمير سالم بن صويلح", "phone": "966503812936", "gradeCode": "1416", "section": "4"}, {"sid": "2297477511", "name": "عبدالله علي حسين عبده العمري", "phone": "966553658060", "gradeCode": "1416", "section": "4"}, {"sid": "2286994930", "name": "عثمان عبد القيوم الامين العوض", "phone": "966501559399", "gradeCode": "1416", "section": "4"}, {"sid": "2288430032", "name": "عقيل نبيل عقيل يوسف", "phone": "966567400054", "gradeCode": "1416", "section": "4"}, {"sid": "2290869060", "name": "علي فهمي مبارك سهيل", "phone": "966501084578", "gradeCode": "1416", "section": "4"}, {"sid": "2296061100", "name": "عمر محمد عمر العمودي", "phone": "966532634803", "gradeCode": "1416", "section": "4"}, {"sid": "2285531170", "name": "فاروق سمير - سقباني", "phone": "966500011058", "gradeCode": "1416", "section": "4"}, {"sid": "2284837420", "name": "مبارك خالد محمد حمد", "phone": "966558109141", "gradeCode": "1416", "section": "4"}, {"sid": "2286086984", "name": "مبارك عبدالله - نصير", "phone": "966562166601", "gradeCode": "1416", "section": "4"}, {"sid": "2289390896", "name": "محمد خالد محمد عبدالله", "phone": "966552412523", "gradeCode": "1416", "section": "4"}, {"sid": "2284509805", "name": "محمد رفاعي عطاالامين زبير", "phone": "966542625045", "gradeCode": "1416", "section": "4"}, {"sid": "1133000420", "name": "مهند خالد فرنيص اليامي", "phone": "966502264250", "gradeCode": "1416", "section": "4"}, {"sid": "2286299512", "name": "ناصر جمال احمد عبدالله", "phone": "966567674903", "gradeCode": "1416", "section": "4"}, {"sid": "2334080732", "name": "همام عبدالله عبده مندع", "phone": "966508181834", "gradeCode": "1416", "section": "4"}, {"sid": "2292795578", "name": "ورد عبدالسلام عدنان القده", "phone": "966553644071", "gradeCode": "1416", "section": "4"}, {"sid": "1147954950", "name": "أبوبكر بن محمد بن ابوبكر بالحارث", "phone": "966559595174", "gradeCode": "1416", "section": "5"}, {"sid": "N006307345", "name": "احمد ياسر محمد بستاني", "phone": "966559580821", "gradeCode": "1416", "section": "5"}, {"sid": "2290738711", "name": "براء محمد جمال سعيد عبدالعظيم", "phone": "966559178845", "gradeCode": "1416", "section": "5"}, {"sid": "2305892628", "name": "تركي فائز سالم بن حيدره", "phone": "966563765157", "gradeCode": "1416", "section": "5"}, {"sid": "2281232674", "name": "تميم عبدالرحمن عبدالقادر المنصوري", "phone": "966504987961", "gradeCode": "1416", "section": "5"}, {"sid": "2354910040", "name": "حسام خالد محمد احمد", "phone": "966507950700", "gradeCode": "1416", "section": "5"}, {"sid": "2388783793", "name": "حمزه محمد عبد الرازق عبد الرازق", "phone": "966546735980", "gradeCode": "1416", "section": "5"}, {"sid": "2475562233", "name": "خالد محمد - حبلي", "phone": "966533645144", "gradeCode": "1416", "section": "5"}, {"sid": "2392826851", "name": "خالد ناصر احمد سعدالدين", "phone": "966504836506", "gradeCode": "1416", "section": "5"}, {"sid": "2500636085", "name": "خطاب بهاء الدين طايل حمد", "phone": "966537122480", "gradeCode": "1416", "section": "5"}, {"sid": "2343612301", "name": "سالم وليد سالم بافقيه", "phone": "966535752186", "gradeCode": "1416", "section": "5"}, {"sid": "2299888665", "name": "سامر رمزي ناجي المنصوب", "phone": "966535132117", "gradeCode": "1416", "section": "5"}, {"sid": "2255325249", "name": "سعود خالد - نهيد", "phone": "966565239411", "gradeCode": "1416", "section": "5"}, {"sid": "2234095707", "name": "سعيد صلاح محمد العماري", "phone": "966503821798", "gradeCode": "1416", "section": "5"}, {"sid": "3937885469", "name": "سلطان غسان عبدالله علوان", "phone": "966502476196", "gradeCode": "1416", "section": "5"}, {"sid": "2313281780", "name": "سلطان فوزي ناصر صالح العامري", "phone": "966566609055", "gradeCode": "1416", "section": "5"}, {"sid": "2344016973", "name": "سيد هاني سيد احمد", "phone": "966535818661", "gradeCode": "1416", "section": "5"}, {"sid": "2388469054", "name": "صابر محمد صابر امين محمد", "phone": "966545818225", "gradeCode": "1416", "section": "5"}, {"sid": "2314430352", "name": "طلال صالح احمد ابوزيد", "phone": "966559555551", "gradeCode": "1416", "section": "5"}, {"sid": "2358938096", "name": "عاصم صبري علي علي", "phone": "966507145143", "gradeCode": "1416", "section": "5"}, {"sid": "2431870399", "name": "عبدالحميد بابكر نورالدين عبدالمولى", "phone": "966502125788", "gradeCode": "1416", "section": "5"}, {"sid": "2306233616", "name": "عبدالرحمن ابراهيم - ايت ناصر", "phone": "966537117551", "gradeCode": "1416", "section": "5"}, {"sid": "2074456702", "name": "عبدالرحمن محمد خليل شنيره", "phone": "966557130664", "gradeCode": "1416", "section": "5"}, {"sid": "2500889288", "name": "عبدالمتعال مصطفى عبدالمتعال السيد", "phone": "966541345986", "gradeCode": "1416", "section": "5"}, {"sid": "N008186123", "name": "عبدالمجيد مازن عبدالمجيد الحافظ", "phone": "966506841897", "gradeCode": "1416", "section": "5"}, {"sid": "2356103834", "name": "عثمان عبدالله احمد علي", "phone": "966546684363", "gradeCode": "1416", "section": "5"}, {"sid": "2306569928", "name": "عمار ياسر علي بن عقيل", "phone": "966508340055", "gradeCode": "1416", "section": "5"}, {"sid": "2341197768", "name": "عمر ايهاب عايد محمود ابو علي", "phone": "966536959357", "gradeCode": "1416", "section": "5"}, {"sid": "2377181058", "name": "عمر علي محمد قدورة", "phone": "966552424394", "gradeCode": "1416", "section": "5"}, {"sid": "2530537808", "name": "عمرو مكاوي علي الامين", "phone": "966558289542", "gradeCode": "1416", "section": "5"}, {"sid": "2359515885", "name": "فيصل احمد - حوري", "phone": "966508263499", "gradeCode": "1416", "section": "5"}, {"sid": "2351811837", "name": "قصي عبدالسلام اسماعيل الجابري", "phone": "966570450695", "gradeCode": "1416", "section": "5"}, {"sid": "4151314921", "name": "محمد احمد حبيب عطيه", "phone": "966538478816", "gradeCode": "1416", "section": "5"}, {"sid": "2331058368", "name": "محمد رائد ماجد عبدالله", "phone": "966551501908", "gradeCode": "1416", "section": "5"}, {"sid": "2389933793", "name": "محمد فيصل محمدصالح عبد الله", "phone": "966541355975", "gradeCode": "1416", "section": "5"}, {"sid": "6050819139", "name": "محمد قناف محمد سالم", "phone": "966558338683", "gradeCode": "1416", "section": "5"}, {"sid": "2303827592", "name": "محمد مجدي عبدالحميد عبدالغفار", "phone": "966564016820", "gradeCode": "1416", "section": "5"}, {"sid": "4020386399", "name": "مهند محمد صالح بن سميدع", "phone": "966571630846", "gradeCode": "1416", "section": "5"}, {"sid": "2353559939", "name": "ميسره عكرمه ميسره طعمه", "phone": "966500188125", "gradeCode": "1416", "section": "5"}, {"sid": "1041572379", "name": "يوسف احمد علي المريحل", "phone": "966545050059", "gradeCode": "1416", "section": "6"}, {"sid": "4825410279", "name": "أحمد الباقر عبدالقادر الباقر", "phone": "966500491550", "gradeCode": "1516", "section": "1"}, {"sid": "1138639339", "name": "أحمد بن وليد بن أحمد الأصمخ", "phone": "966507277447", "gradeCode": "1516", "section": "1"}, {"sid": "0160258130", "name": "أحمد حسن أحمد البريكي", "phone": "966503514111", "gradeCode": "1516", "section": "1"}, {"sid": "2253891150", "name": "احمد محمد احمد صالح", "phone": "966534454618", "gradeCode": "1516", "section": "1"}, {"sid": "1143012167", "name": "إلياس بن مسير بن عوض المطيري", "phone": "966503437566", "gradeCode": "1516", "section": "1"}, {"sid": "2120363921", "name": "اياد خالد عبدالله بانواس", "phone": "966564664838", "gradeCode": "1516", "section": "1"}, {"sid": "2277899007", "name": "خالد باسل سعود موسى", "phone": "966556530080", "gradeCode": "1516", "section": "1"}, {"sid": "1144621701", "name": "خالد بن فيصل بن عبدالله السويلم", "phone": "966551066268", "gradeCode": "1516", "section": "1"}, {"sid": "1142125960", "name": "راكان بن علي بن عوض الفقيه الشهري", "phone": "966530898088", "gradeCode": "1516", "section": "1"}, {"sid": "0160505940", "name": "ردفان أنور حسين العياشي", "phone": "966559326884", "gradeCode": "1516", "section": "1"}, {"sid": "0160258665", "name": "زيد توفيق حسن البارد", "phone": "966558584385", "gradeCode": "1516", "section": "1"}, {"sid": "1143378725", "name": "سالم بن عبدالعزيز بن سالم آل راكان", "phone": "966555566026", "gradeCode": "1516", "section": "1"}, {"sid": "2243041544", "name": "سالم سعيد - بشرى", "phone": "966578455024", "gradeCode": "1516", "section": "1"}, {"sid": "1144522610", "name": "سعود بن صادق بن جاسم السليم", "phone": "966595492889", "gradeCode": "1516", "section": "1"}, {"sid": "1144783790", "name": "سلطان بن أحمد بن محمد اللحيدان", "phone": "966543302200", "gradeCode": "1516", "section": "1"}, {"sid": "0160512222", "name": "سلطان عادل سيف سيف العبادي", "phone": "966504551072", "gradeCode": "1516", "section": "1"}, {"sid": "1144168729", "name": "عبدالعزيز بن خالد بن سالم باوهال", "phone": "966543003282", "gradeCode": "1516", "section": "1"}, {"sid": "1144207832", "name": "عبدالعزيز بن وليد بن أحمد الأصمخ", "phone": "966507277447", "gradeCode": "1516", "section": "1"}, {"sid": "0160501817", "name": "عبدالعزيز خالد عبدالله سيعد", "phone": "966501139557", "gradeCode": "1516", "section": "1"}, {"sid": "2252745621", "name": "عبداللة محمد - نقح", "phone": "966563770187", "gradeCode": "1516", "section": "1"}, {"sid": "1141810471", "name": "عبدالله بن اسعد بن عبدالمنعم الاحمدي", "phone": "966506636269", "gradeCode": "1516", "section": "1"}, {"sid": "1201142773", "name": "عبدالله بن زكريا بن احمد الحمران الدوسري", "phone": "966542553490", "gradeCode": "1516", "section": "1"}, {"sid": "1141882942", "name": "عبدالله بن مشاري بن مبارك الحزيمي الدوسري", "phone": "966540320324", "gradeCode": "1516", "section": "1"}, {"sid": "0160472493", "name": "عبدالله حسين عمر المطري", "phone": "966531492120", "gradeCode": "1516", "section": "1"}, {"sid": "2120363920", "name": "عبدالله خالد عبدالله بانواس", "phone": "966564664838", "gradeCode": "1516", "section": "1"}, {"sid": "0160472487", "name": "عبدالله صلاح علي علوان", "phone": "966551482228", "gradeCode": "1516", "section": "1"}, {"sid": "0160518165", "name": "عبدالله محمد عبدالله النسي", "phone": "966501364318", "gradeCode": "1516", "section": "1"}, {"sid": "4766954228", "name": "عمار ياسر  باحكم", "phone": "966557930070", "gradeCode": "1516", "section": "1"}, {"sid": "1200336111", "name": "فارس بن عايد بن عبدالله السيحاني العتيبي", "phone": "966540552122", "gradeCode": "1516", "section": "1"}, {"sid": "1143574448", "name": "فارس بن فيصل بن خليفة العرفة", "phone": "966504853090", "gradeCode": "1516", "section": "1"}, {"sid": "2257856969", "name": "فيصل فهد حيدره احمد", "phone": "966551236620", "gradeCode": "1516", "section": "1"}, {"sid": "1136838537", "name": "محمد بن علي بن محمد الرهيش", "phone": "966504996616", "gradeCode": "1516", "section": "1"}, {"sid": "2264852860", "name": "محمد خالد - الجلاب", "phone": "966508962159", "gradeCode": "1516", "section": "1"}, {"sid": "2250281512", "name": "محمد شريف محمد شريف", "phone": "966590113786", "gradeCode": "1516", "section": "1"}, {"sid": "2250346851", "name": "محمد عبدالله عمر الكلدي", "phone": "966508991949", "gradeCode": "1516", "section": "1"}, {"sid": "2252850496", "name": "محمد عمر عبدالله عكاوي", "phone": "966531624809", "gradeCode": "1516", "section": "1"}, {"sid": "2253796938", "name": "محمود شهير - العثمان", "phone": "966508338211", "gradeCode": "1516", "section": "1"}, {"sid": "1143120945", "name": "مسفر بن محمد بن عائض ملهي الصيعري", "phone": "966556444083", "gradeCode": "1516", "section": "1"}, {"sid": "1142699030", "name": "مهدي بن عبدالرؤف بن محمد البشر", "phone": "966532846300", "gradeCode": "1516", "section": "1"}, {"sid": "1153302649", "name": "مهند حسين محمد حراج", "phone": "966533680802", "gradeCode": "1516", "section": "1"}, {"sid": "0160253179", "name": "نصر شوقي نصر الجماعي", "phone": "966507800117", "gradeCode": "1516", "section": "1"}, {"sid": "1147718314", "name": "وليد بن خالد بن سعيد احمدي المالكي", "phone": "966556339081", "gradeCode": "1516", "section": "1"}, {"sid": "004404988", "name": "يوسف محمد فادي الخطيب", "phone": "966543308770", "gradeCode": "1516", "section": "1"}, {"sid": "2260457045", "name": "احمد رامي - التلا", "phone": "966549900555", "gradeCode": "1516", "section": "2"}, {"sid": "2264452380", "name": "احمد صالح محمد محسن", "phone": "966509824977", "gradeCode": "1516", "section": "2"}, {"sid": "2255039634", "name": "البراء عبد الفتاح صادق عوده", "phone": "966505881276", "gradeCode": "1516", "section": "2"}, {"sid": "2260490087", "name": "انس محمد بشار - شروف", "phone": "966504139503", "gradeCode": "1516", "section": "2"}, {"sid": "2256253952", "name": "ايمن راتب - الرحال", "phone": "966539155409", "gradeCode": "1516", "section": "2"}, {"sid": "2256029097", "name": "تركي امين حسن هزاع", "phone": "966551515780", "gradeCode": "1516", "section": "2"}, {"sid": "2260389354", "name": "جواد بن ابراهيم - حيدر", "phone": "966583366990", "gradeCode": "1516", "section": "2"}, {"sid": "2285968786", "name": "حسن عماد حسن الشيوري", "phone": "966533581348", "gradeCode": "1516", "section": "2"}, {"sid": "2258213921", "name": "ريان يحي قايد العديني", "phone": "966530137800", "gradeCode": "1516", "section": "2"}, {"sid": "2250280977", "name": "زايد دارس محمد عبدالله", "phone": "966533355166", "gradeCode": "1516", "section": "2"}, {"sid": "2257803342", "name": "زياد طارق ابو علول -", "phone": "966502959255", "gradeCode": "1516", "section": "2"}, {"sid": "2263270700", "name": "زياد محمد - القابوني", "phone": "966552799006", "gradeCode": "1516", "section": "2"}, {"sid": "2263329290", "name": "زيد حسام عبدالرحيم حمد", "phone": "966582899702", "gradeCode": "1516", "section": "2"}, {"sid": "3028401290", "name": "زيد محمد عبدالحميد الشاعر", "phone": "966561350188", "gradeCode": "1516", "section": "2"}, {"sid": "2256897774", "name": "عبد الرحمن سعيد على رياض", "phone": "966546373163", "gradeCode": "1516", "section": "2"}, {"sid": "2261255513", "name": "عبدالحكيم زاهر عبدالحكيم خنجر", "phone": "966549494943", "gradeCode": "1516", "section": "2"}, {"sid": "2257671269", "name": "عبدالرحمن مختار عبدالرحمن مختار", "phone": "966501261505", "gradeCode": "1516", "section": "2"}, {"sid": "2264340429", "name": "عبدالصمد أمين عبدالله الرداعي", "phone": "966551759129", "gradeCode": "1516", "section": "2"}, {"sid": "2273561387", "name": "عبدالعزيز بندر احمد العمودي", "phone": "966505759682", "gradeCode": "1516", "section": "2"}, {"sid": "2261074336", "name": "عمر طارق سعيد حمايده", "phone": "966550139287", "gradeCode": "1516", "section": "2"}, {"sid": "2257117479", "name": "فارس خالـد محمد الخواجة", "phone": "966531494307", "gradeCode": "1516", "section": "2"}, {"sid": "2255783926", "name": "ليث جمال محمد حطاب", "phone": "966551946842", "gradeCode": "1516", "section": "2"}, {"sid": "2256884699", "name": "مبارك سالم مبروك بن نهيد", "phone": "966544809193", "gradeCode": "1516", "section": "2"}, {"sid": "1142689882", "name": "متعب بن سمير بن عبدالله الودعاني الدوسري", "phone": "966598675174", "gradeCode": "1516", "section": "2"}, {"sid": "2254299460", "name": "محمد احمد علي عسكري", "phone": "966559809906", "gradeCode": "1516", "section": "2"}, {"sid": "2253988071", "name": "محمد أحمد محمد عبد الغفار", "phone": "966506830533", "gradeCode": "1516", "section": "2"}, {"sid": "2263270361", "name": "محمود مهند محمود مليشو", "phone": "966569540890", "gradeCode": "1516", "section": "2"}, {"sid": "2257820114", "name": "مصطفى نادر رضا حمد", "phone": "966554308011", "gradeCode": "1516", "section": "2"}, {"sid": "2264029097", "name": "معتز خالد احمد باسويد", "phone": "966505810195", "gradeCode": "1516", "section": "2"}, {"sid": "2257370805", "name": "مهند محمد علي شعلان", "phone": "966506559022", "gradeCode": "1516", "section": "2"}, {"sid": "2263012045", "name": "مهند مراد سعيد نصر", "phone": "966551515993", "gradeCode": "1516", "section": "2"}, {"sid": "2264624228", "name": "هادي باسل - غملوش", "phone": "966500700988", "gradeCode": "1516", "section": "2"}, {"sid": "2261167536", "name": "هذال بن منيب - الحسو", "phone": "966552604914", "gradeCode": "1516", "section": "2"}, {"sid": "2254969443", "name": "وسيم احمد فوزي ابودقه", "phone": "966502638306", "gradeCode": "1516", "section": "2"}, {"sid": "2256971124", "name": "يحيى عمر مسعد قاسم", "phone": "966503834971", "gradeCode": "1516", "section": "2"}, {"sid": "2259890438", "name": "يزن ماجد كامل العطاونه", "phone": "966505197899", "gradeCode": "1516", "section": "2"}, {"sid": "2276954688", "name": "يوسف سعيد عبدالرحمن العمودي", "phone": "966564042008", "gradeCode": "1516", "section": "2"}, {"sid": "2254477819", "name": "احمد محمود عبدالرؤوف شحاده", "phone": "966530290049", "gradeCode": "1516", "section": "3"}, {"sid": "2257419529", "name": "أسامة سليم راتب شري", "phone": "966504828942", "gradeCode": "1516", "section": "3"}, {"sid": "2264778388", "name": "أشرف الصادق قسم السيد فضل المولى", "phone": "966502218531", "gradeCode": "1516", "section": "3"}, {"sid": "03312L041597", "name": "باسل عامر - الطباع", "phone": "966551556789", "gradeCode": "1516", "section": "3"}, {"sid": "2281969424", "name": "تيم وائل محمد يوسف علي", "phone": "966546996828", "gradeCode": "1516", "section": "3"}, {"sid": "2266020060", "name": "جابر حبيب - غويش", "phone": "966556328441", "gradeCode": "1516", "section": "3"}, {"sid": "2271216273", "name": "خضر مصطفى - دريعي", "phone": "966536368360", "gradeCode": "1516", "section": "3"}, {"sid": "2309795942", "name": "سعيد أحمد مبارك بن حويل", "phone": "966553410339", "gradeCode": "1516", "section": "3"}, {"sid": "2253890624", "name": "سعيد صالح سعيد باطاهر", "phone": "966501554367", "gradeCode": "1516", "section": "3"}, {"sid": "2265265146", "name": "سيف جهاد احمد الزرقان", "phone": "966503976466", "gradeCode": "1516", "section": "3"}, {"sid": "2266307871", "name": "صالح حسين احمد شلبي", "phone": "966535180803", "gradeCode": "1516", "section": "3"}, {"sid": "2276535586", "name": "صالح سعيد صالح الهميمي", "phone": "966507316078", "gradeCode": "1516", "section": "3"}, {"sid": "2267610281", "name": "صلاح الدين محمد حمدالله محمودعلي", "phone": "966536195508", "gradeCode": "1516", "section": "3"}, {"sid": "2266223565", "name": "عادل مهند توفيق عبد ربه", "phone": "966571642499", "gradeCode": "1516", "section": "3"}, {"sid": "2530375910", "name": "عبدالرازق عادل عبدون علي", "phone": "966502241191", "gradeCode": "1516", "section": "3"}, {"sid": "2273759148", "name": "عبدالرحمن ايمن عبدالرحمن بصله", "phone": "966541693991", "gradeCode": "1516", "section": "3"}, {"sid": "2271300705", "name": "عبدالرحمن وائل - البيجاوي", "phone": "966505840646", "gradeCode": "1516", "section": "3"}, {"sid": "1152253660", "name": "عبدالعزيز بن عبدالله بن عبدالعزيز الصانع", "phone": "966509998445", "gradeCode": "1516", "section": "3"}, {"sid": "2267688311", "name": "عبدالقادر علاء عبدالقادر السعيد", "phone": "966508401455", "gradeCode": "1516", "section": "3"}, {"sid": "2265266433", "name": "عبدالله عمر عبدالله بن شملان", "phone": "966500108698", "gradeCode": "1516", "section": "3"}, {"sid": "2275538128", "name": "عبدالله فارس عبدالله بادعام", "phone": "966530734340", "gradeCode": "1516", "section": "3"}, {"sid": "2269118598", "name": "عبدالله محمد عبدالله باحارثه", "phone": "966556183504", "gradeCode": "1516", "section": "3"}, {"sid": "2285179566", "name": "علي خالد علي الشوكاني", "phone": "966547978940", "gradeCode": "1516", "section": "3"}, {"sid": "2262500883", "name": "علي مقبل علي مرشد", "phone": "966567854303", "gradeCode": "1516", "section": "3"}, {"sid": "2288272343", "name": "عمر شايف مسعد الجملي", "phone": "966509562575", "gradeCode": "1516", "section": "3"}, {"sid": "1135151783", "name": "فهد بن خالد بن شافي القاسم", "phone": "966507569756", "gradeCode": "1516", "section": "3"}, {"sid": "2267801930", "name": "فيصل ابراهيم - قشير", "phone": "966594219917", "gradeCode": "1516", "section": "3"}, {"sid": "2289248649", "name": "قصي محمداياد احمد الزنبركجي", "phone": "966544148311", "gradeCode": "1516", "section": "3"}, {"sid": "2270632934", "name": "ليث اسماعيل - العلوه", "phone": "966508123556", "gradeCode": "1516", "section": "3"}, {"sid": "2265200960", "name": "مبارك حسن عثمان الحسن", "phone": "966504972721", "gradeCode": "1516", "section": "3"}, {"sid": "2267755862", "name": "منذر عبدالله محمد على", "phone": "966545040773", "gradeCode": "1516", "section": "3"}, {"sid": "2281843306", "name": "مهند عطاء علم الدين محمد", "phone": "966556124097", "gradeCode": "1516", "section": "3"}, {"sid": "2265108361", "name": "مهند محمد طه ابوعامر", "phone": "966566293426", "gradeCode": "1516", "section": "3"}, {"sid": "2271172179", "name": "نور الدين نورس حمادة -", "phone": "966531205402", "gradeCode": "1516", "section": "3"}, {"sid": "2299260931", "name": "وسام بشير صالح بن صويلح", "phone": "966563191459", "gradeCode": "1516", "section": "3"}, {"sid": "2268909773", "name": "يوسف مراد منصور توفيق حمام", "phone": "966506816056", "gradeCode": "1516", "section": "3"}, {"sid": "2265980934", "name": "يوسف نعمـه - قادريه", "phone": "966596913199", "gradeCode": "1516", "section": "3"}, {"sid": "1141975506", "name": "أحمد بن خالد بن أحمد المجدوعي الشهري", "phone": "966560687900", "gradeCode": "1516", "section": "4"}, {"sid": "1142520475", "name": "أحمد بن عادل بن أحمد المجدوعي الشهري", "phone": "966553001980", "gradeCode": "1516", "section": "4"}, {"sid": "2413416567", "name": "احمد بهاء الدين احمد هريدى", "phone": "966542460199", "gradeCode": "1516", "section": "4"}, {"sid": "2356103826", "name": "احمد عبدالله احمد علي", "phone": "966502072019", "gradeCode": "1516", "section": "4"}, {"sid": "2370328821", "name": "احمد عمار احمد", "phone": "966552324752", "gradeCode": "1516", "section": "4"}, {"sid": "2319087835", "name": "احمد مصطفى عطا الجبور", "phone": "966538890767", "gradeCode": "1516", "section": "4"}, {"sid": "2419719055", "name": "احمد نور الاسلام عبدالمنصف حماد", "phone": "966594177367", "gradeCode": "1516", "section": "4"}, {"sid": "4175612086", "name": "اكرم معاذ أحمد زيد", "phone": "966501427268", "gradeCode": "1516", "section": "4"}, {"sid": "6059210870", "name": "الليث تميم محمد الاصنج", "phone": "966565379649", "gradeCode": "1516", "section": "4"}, {"sid": "4594843015", "name": "أنس محمد سعيد العبادي", "phone": "966548364505", "gradeCode": "1516", "section": "4"}, {"sid": "2473694954", "name": "ايمن العوض عمر احمد", "phone": "966556778764", "gradeCode": "1516", "section": "4"}, {"sid": "2302921883", "name": "حسين وليد عبدالله باطرفي", "phone": "966548585222", "gradeCode": "1516", "section": "4"}, {"sid": "2358509145", "name": "سالم خالد سالم هلابي المري", "phone": "966541303783", "gradeCode": "1516", "section": "4"}, {"sid": "2533189052", "name": "سامى مصطفى سامى عثمان", "phone": "966508181905", "gradeCode": "1516", "section": "4"}, {"sid": "2322964681", "name": "شادى السيد محمد السيد عبد الحميد", "phone": "966590249402", "gradeCode": "1516", "section": "4"}, {"sid": "4131705198", "name": "صالح حسين علوي حسين", "phone": "966501656407", "gradeCode": "1516", "section": "4"}, {"sid": "4157899438", "name": "طلال صادق حميد الشيباني", "phone": "966504306465", "gradeCode": "1516", "section": "4"}, {"sid": "2332595122", "name": "عبدالرحمن فالح مصطفى الهندي", "phone": "966500655081", "gradeCode": "1516", "section": "4"}, {"sid": "1144010574", "name": "علي بن عبدالمحسن بن احمد الجويد", "phone": "966505855700", "gradeCode": "1516", "section": "4"}, {"sid": "N00735725", "name": "عمر احمد - الحبال", "phone": "966598772016", "gradeCode": "1516", "section": "4"}, {"sid": "N004380331", "name": "عمر نضال - اللبابيدي", "phone": "966545677595", "gradeCode": "1516", "section": "4"}, {"sid": "2506314679", "name": "عمر هيثم عبدالحميد جبر", "phone": "966594148700", "gradeCode": "1516", "section": "4"}, {"sid": "4726523741", "name": "عمرو وضاح عباد عوض", "phone": "966551696535", "gradeCode": "1516", "section": "4"}, {"sid": "2367437221", "name": "غالب ضياء غالب يعقوب", "phone": "966547929697", "gradeCode": "1516", "section": "4"}, {"sid": "4594842967", "name": "مالك محمد سعيد العبادي", "phone": "966548364505", "gradeCode": "1516", "section": "4"}, {"sid": "2320747757", "name": "مالك محمد مقبل عبدالله", "phone": "966550924548", "gradeCode": "1516", "section": "4"}, {"sid": "007147880", "name": "محمد أبي محمد كمال يحيى الشعراوي", "phone": "966537598996", "gradeCode": "1516", "section": "4"}, {"sid": "2329213116", "name": "محمد عبدالرحمن محمد سلام", "phone": "966562221981", "gradeCode": "1516", "section": "4"}, {"sid": "4677834535", "name": "محمد عبدالسلام صالح قايد الغيثي", "phone": "966508913140", "gradeCode": "1516", "section": "4"}, {"sid": "4853468405", "name": "محمد عمر احمد الخنبشي", "phone": "966504487033", "gradeCode": "1516", "section": "4"}, {"sid": "09685836", "name": "محمد محمد سعد القحازي", "phone": "966550657440", "gradeCode": "1516", "section": "4"}, {"sid": "2555671169", "name": "محمود محسن جمال الدين علي", "phone": "966500284832", "gradeCode": "1516", "section": "4"}, {"sid": "2265260295", "name": "معاذ خالد أحمد عثمان", "phone": "966506177794", "gradeCode": "1516", "section": "4"}, {"sid": "2389933801", "name": "مهند فيصل محمد صالح عبد الله", "phone": "966541355975", "gradeCode": "1516", "section": "4"}, {"sid": "2556070825", "name": "وليد طارق الحسن محمد", "phone": "966540008359", "gradeCode": "1516", "section": "4"}, {"sid": "2356549002", "name": "يوسف أحمد حافظ محمد", "phone": "966546176818", "gradeCode": "1516", "section": "4"}, {"sid": "2356228334", "name": "يوسف هيثم السيد السيد", "phone": "966568383249", "gradeCode": "1516", "section": "4"}, {"sid": "9683618478", "name": "ابراهيم سعيد محمد بامقابل", "phone": "966532106950", "gradeCode": "1516", "section": "5"}, {"sid": "2252299090", "name": "احمد القذافي محمد عبدالله", "phone": "966563246030", "gradeCode": "1516", "section": "5"}, {"sid": "2269543779", "name": "احمد محمد شعبان القادري", "phone": "966555811037", "gradeCode": "1516", "section": "5"}, {"sid": "2257423497", "name": "المؤيد عبدالناصر عبدالكريم النعيمي", "phone": "966599944604", "gradeCode": "1516", "section": "5"}, {"sid": "2254967066", "name": "تركـي عبدالله - ابوالحسن", "phone": "966501180302", "gradeCode": "1516", "section": "5"}, {"sid": "2305874568", "name": "حسام احمد توفيق مرعي", "phone": "966559674986", "gradeCode": "1516", "section": "5"}, {"sid": "2255508307", "name": "حسام حسن محمد عبده", "phone": "966500571781", "gradeCode": "1516", "section": "5"}, {"sid": "2262212497", "name": "حسن يوسف حسن أحمد", "phone": "966506034051", "gradeCode": "1516", "section": "5"}, {"sid": "2292258270", "name": "خالد فهد مبخوت الشبيبي", "phone": "966553332872", "gradeCode": "1516", "section": "5"}, {"sid": "1149849059", "name": "راكان بن سامي بن مبارك العتيق الدوسري", "phone": "966570964863", "gradeCode": "1516", "section": "5"}, {"sid": "004166605", "name": "رائد إيهاب لامع الخطيب", "phone": "966543309770", "gradeCode": "1516", "section": "5"}, {"sid": "0160472491", "name": "زهير شهاب عبدالقوي قاسم", "phone": "966530326241", "gradeCode": "1516", "section": "5"}, {"sid": "2253882423", "name": "زياد اشرف موسى محمود", "phone": "966504942293", "gradeCode": "1516", "section": "5"}, {"sid": "2286386491", "name": "سالم سليمان سالم صويلح", "phone": "966531810001", "gradeCode": "1516", "section": "5"}, {"sid": "2263571404", "name": "سامر مروان عبدالرحمن دحبور", "phone": "966541522828", "gradeCode": "1516", "section": "5"}, {"sid": "4721012807", "name": "سليمان خالد سليمان بن نهيد", "phone": "966501958928", "gradeCode": "1516", "section": "5"}, {"sid": "2265978847", "name": "صالح عاصم - الزعبي", "phone": "966532468066", "gradeCode": "1516", "section": "5"}, {"sid": "2302921891", "name": "عبدالعزيز وليد عبدالله باطرفي", "phone": "966548585222", "gradeCode": "1516", "section": "5"}, {"sid": "2256896347", "name": "عبدالله ثامر السيد سليم علي", "phone": "966597075886", "gradeCode": "1516", "section": "5"}, {"sid": "2411879493", "name": "عبدالمؤمن ولاء الدين عمر حسن", "phone": "966537602402", "gradeCode": "1516", "section": "5"}, {"sid": "0160223325", "name": "عز الدين مصطفى عبد الستار علي", "phone": "966503492008", "gradeCode": "1516", "section": "5"}, {"sid": "2259910673", "name": "علي حسن علي باصريح", "phone": "966554997791", "gradeCode": "1516", "section": "5"}, {"sid": "2256718475", "name": "علي عبد الحافظ منصور", "phone": "966503881921", "gradeCode": "1516", "section": "5"}, {"sid": "4714521970", "name": "عمرو خالد عبدالله مرشد قايد", "phone": "966552808856", "gradeCode": "1516", "section": "5"}, {"sid": "1145312052", "name": "فيصل بن احمد بن عبدالعزيز بوسوده", "phone": "966558699916", "gradeCode": "1516", "section": "5"}, {"sid": "0160258128", "name": "قاسم محمد قاسم عبيد", "phone": "966503200924", "gradeCode": "1516", "section": "5"}, {"sid": "2252607524", "name": "محمد ابراهيم سعيد الصدفي", "phone": "966504752302", "gradeCode": "1516", "section": "5"}, {"sid": "2263805703", "name": "محمد خالد - سيف", "phone": "966509424497", "gradeCode": "1516", "section": "5"}, {"sid": "2266003785", "name": "محمد صلاح محسن صالح", "phone": "966504997192", "gradeCode": "1516", "section": "5"}, {"sid": "2274966460", "name": "محمد عبدالعزيز حمد الفكي", "phone": "966538862829", "gradeCode": "1516", "section": "5"}, {"sid": "2274404124", "name": "محمد ياسر محمد علي", "phone": "966569400999", "gradeCode": "1516", "section": "5"}, {"sid": "1140892157", "name": "منير بن حيدر بن حسين السلطان", "phone": "966546682025", "gradeCode": "1516", "section": "5"}, {"sid": "2269927360", "name": "مهند طارق عوده الله سويلم", "phone": "966504859866", "gradeCode": "1516", "section": "5"}, {"sid": "2074039024", "name": "هارون محمد صفوان الرفاعي", "phone": "966559038880", "gradeCode": "1516", "section": "5"}, {"sid": "1086183959", "name": "ابراهيم صالح بن حامد الحربي", "phone": "554487285", "gradeCode": "1516", "section": "6"}, {"sid": "1096783343", "name": "حيدر بن سعيد بن علي السويلم", "phone": "966548053496", "gradeCode": "1516", "section": "6"}, {"sid": "1080827460", "name": "سلمان بن حسن بن سلمان الوحيمد", "phone": "966599188265", "gradeCode": "1516", "section": "6"}, {"sid": "1085912291", "name": "محمد علي علي جعفري", "phone": "966543478037", "gradeCode": "1516", "section": "6"}];

// ===== Grade mapping =====
const GRADE_MAP = {
  "1314": { label: "أول ثانوي", regular: 7, elearning: 8 },
  "1416": { label: "ثاني ثانوي", regular: 5, elearning: 6 },
  "1516": { label: "ثالث ثانوي", regular: 5, elearning: 6 },
};

// ===== Default lists (editable from settings) =====
const DEFAULT_ATTENDANCE = [
  "تأخر صباحي",
  "غياب (بعذر)",
  "غياب (بدون عذر)",
  "خروج مبكر",
  "انقطاع عن الحصص",
  "تكرار التأخر/الغياب"
];

const DEFAULT_BEHAVIOR = [
  "عدم الالتزام بالزي/المظهر",
  "إزعاج داخل الحصة",
  "استخدام الجوال أثناء اليوم الدراسي",
  "تلفظ غير لائق",
  "إتلاف ممتلكات",
  "مشاجرة/اعتداء",
  "مخالفة تعليمات الأمن والسلامة"
];

const DEFAULT_PERMIT = [
  "إذن دخول الفصل (متأخر)",
  "إذن خروج من المدرسة",
  "إذن خروج للعيادة",
  "إذن انتقال/مراجعة الإدارة"
];

// ===== Storage =====
const store = {
  get(key, fallback) {
    try {
      const raw = localStorage.getItem(key);
      if (raw === null || raw === undefined) return fallback;
      return JSON.parse(raw);
    } catch(e) {
      return fallback;
    }
  },
  set(key, val) {
    localStorage.setItem(key, JSON.stringify(val));
  },
  del(key) {
    localStorage.removeItem(key);
  }
};

const KEYS = {
  students: "ms_students_v4",
  records: "ms_records_v4",
  lists: "ms_lists_v4",
  settings: "ms_settings_v4",
  selected: "ms_selected_v4"
};

function nowInfo() {
  const d = new Date();
  const day = d.toLocaleDateString("ar-SA", { weekday: "long" });
  const date = d.toLocaleDateString("ar-SA");
  const time = d.toLocaleTimeString("ar-SA", { hour: "2-digit", minute: "2-digit" });
  return { d, day, date, time };
}

function uid() {
  return "R" + Math.random().toString(16).slice(2) + Date.now().toString(16);
}

function normalizePhone(raw) {
  let p = String(raw || "").trim();
  p = p.replace(/[\s\-\(\)]/g, "");
  p = p.replace(/^00/, "");
  const map = { "٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9" };
  p = p.replace(/[٠-٩]/g, (d)=>map[d] || d);
  if (!p) return "";
  if (p.startsWith("+")) p = p.slice(1);
  if (p.startsWith("05") && p.length === 10) p = "966" + p.slice(1);
  if (p.startsWith("5") && p.length === 9) p = "966" + p;
  if (p.startsWith("966") && p.length >= 12) return p;
  return p;
}

function stageTag(code) {
  const g = GRADE_MAP[String(code)];
  return g ? g.label : String(code || "");
}

function describeStudent(st) {
  const g = GRADE_MAP[String(st.gradeCode)] || { label: String(st.gradeCode || "") };
  const sec = String(st.section || "");
  const isEL = (g.elearning && sec === String(g.elearning));
  const track = isEL ? "تعليم إلكتروني" : "منتظم";
  const stage = g.label || "";
  const section = sec ? ("شعبة " + sec) : "";
  return {
    stage, section, track,
    full: [stage, section, track].filter(Boolean).join(" - ")
  };
}

function safeText(s) {
  return String(s || "").replace(/\s+/g, " ").trim();
}

function toast(msg) {
  const t = document.getElementById("toast");
  const inner = document.getElementById("toastInner");
  inner.textContent = msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"), 2600);
}

function downloadJSON(filename, data) {
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 400);
}

function downloadCSV(filename, rows) {
  const esc = (v) => {
    const s = String(v ?? "");
    if (s.includes(",") || s.includes("\n") || s.includes("\"")) return "\"" + s.replace(/"/g, '""') + "\"";
    return s;
  };
  const csv = rows.map(r => r.map(esc).join(",")).join("\n");
  const blob = new Blob([csv], { type:"text/csv;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url; a.download = filename;
  document.body.appendChild(a);
  a.click();
  setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 400);
}

async function readTextFile(file) { return await file.text(); }
async function readJSONFile(file) { return JSON.parse(await readTextFile(file)); }

async function readCSVStudents(file) {
  const txt = await readTextFile(file);
  const lines = txt.split(/\r?\n/).filter(l => l.trim().length);
  if (!lines.length) return [];
  const sample = lines[0];
  const delim = (sample.split(";").length > sample.split(",").length) ? ";" : (sample.split("\t").length > sample.split(",").length ? "\t" : ",");
  const parseLine = (line) => {
    const out=[]; let cur=""; let q=false;
    for (let i=0;i<line.length;i++) {
      const ch=line[i];
      if (ch === '"') {
        if (q && line[i+1] === '"') { cur += '"'; i++; continue; }
        q = !q; continue;
      }
      if (!q && ch === delim) { out.push(cur); cur=""; continue; }
      cur += ch;
    }
    out.push(cur);
    return out.map(s=>safeText(s));
  };
  const hdr = parseLine(lines[0]).map(h => h.replace(/\s+/g," ").trim());
  const idx = (names) => {
    for (const n of names) {
      const i = hdr.findIndex(h => h === n);
      if (i >= 0) return i;
    }
    return -1;
  };
  const iName = idx(["اسم الطالب","الاسم","اسم"]);
  const iSid  = idx(["رقم الطالب","StudentID","id"]);
  const iPhone= idx(["الجوال","رقم الجوال","هاتف","phone"]);
  const iGrade= idx(["رقم الصف","الصف","gradeCode"]);
  const iSec  = idx(["الفصل","الشعبة","section"]);
  if (iName < 0 || iSid < 0) throw new Error("CSV لا يحتوي أعمدة (اسم الطالب) و(رقم الطالب) بوضوح.");
  const out=[];
  for (let li=1; li<lines.length; li++) {
    const cells = parseLine(lines[li]);
    const st = {
      sid: safeText(cells[iSid]),
      name: safeText(cells[iName]),
      phone: safeText(iPhone>=0 ? cells[iPhone] : ""),
      gradeCode: safeText(iGrade>=0 ? cells[iGrade] : ""),
      section: safeText(iSec>=0 ? cells[iSec] : "")
    };
    if (st.sid && st.name) out.push(st);
  }
  return out;
}

// ===== State =====
const state = {
  students: [],
  records: [],
  lists: {
    attendance: DEFAULT_ATTENDANCE.slice(),
    behavior: DEFAULT_BEHAVIOR.slice(),
    permit: DEFAULT_PERMIT.slice()
  },
  settings: {
    schoolName: "ثانوية اليعقوبي الثانوية بالخبر",
    adminPin: "0000"
  },
  filterStage: "ALL",
  q: "",
  selectedSid: ""
};

function $(id) { return document.getElementById(id); }

function icon(name) {
  const icons = {
    dots: '<svg viewBox="0 0 24 24" fill="none"><path d="M6 12a1.6 1.6 0 1 1-3.2 0A1.6 1.6 0 0 1 6 12Zm7.6 0A1.6 1.6 0 1 1 10.4 12a1.6 1.6 0 0 1 3.2 0ZM21.2 12A1.6 1.6 0 1 1 18 12a1.6 1.6 0 0 1 3.2 0Z" fill="currentColor"/></svg>',
    search: '<svg viewBox="0 0 24 24" fill="none"><path d="M10.5 18.2a7.7 7.7 0 1 1 0-15.4 7.7 7.7 0 0 1 0 15.4Zm6.7-1.1 4 4" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg>',
    chev: '<svg viewBox="0 0 24 24" fill="none"><path d="M10 6l6 6-6 6" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
    close: '<svg viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg>'
  };
  return icons[name] || "";
}

function initials(name) {
  const t = safeText(name).split(" ").filter(Boolean);
  if (!t.length) return "•";
  const a = t[0][0] || "•";
  const b = (t.length>1 ? t[1][0] : "") || "";
  return (a + b).slice(0,2);
}

function currentSelected() {
  if (!state.selectedSid) return null;
  return state.students.find(s => s.sid === state.selectedSid) || null;
}

function listFilteredStudents() {
  const q = state.q.trim();
  const stg = state.filterStage;
  let arr = state.students;
  if (stg !== "ALL") arr = arr.filter(s => String(s.gradeCode) === String(stg));
  if (q) {
    const qq = q.replace(/\s+/g," ").toLowerCase();
    arr = arr.filter(s =>
      (s.name || "").toLowerCase().includes(qq) ||
      (s.sid || "").includes(qq) ||
      (s.phone || "").includes(qq) ||
      ((stageTag(s.gradeCode) + " " + (s.section||"")).toLowerCase().includes(qq))
    );
  }
  return arr.slice(0, 2000);
}

function renderBadges() {
  const wrap = $("badges");
  const codes = ["ALL","1314","1416","1516"];
  const label = (code)=> code === "ALL" ? "الكل" : stageTag(code);
  wrap.innerHTML = codes.map(code => {
    const active = state.filterStage === code ? "active" : "";
    return '<button class="badge '+active+'" data-stage="'+code+'" type="button">'+label(code)+'</button>';
  }).join("");
  wrap.querySelectorAll("button").forEach(btn => {
    btn.addEventListener("click", () => {
      state.filterStage = btn.getAttribute("data-stage");
      renderStudents();
    });
  });
}

function renderStudents() {
  const list = $("list");
  const arr = listFilteredStudents();
  $("countPill").textContent = "عدد الطلاب: " + arr.length;
  if (!arr.length) {
    list.innerHTML = '<div class="empty">لا توجد نتائج. جرّب كتابة اسم/رقم الطالب أو اختيار مرحلة.<br><span class="kbd">مثال</span> عبد أو 2305</div>';
    return;
  }
  list.innerHTML = arr.map(st => {
    const d = describeStudent(st);
    const chosen = (state.selectedSid === st.sid) ? ' style="background:rgba(30,138,121,.07)"' : "";
    return (
      '<div class="row" data-sid="'+st.sid+'"'+chosen+'>' +
        '<div class="avatar">'+initials(st.name)+'</div>' +
        '<div class="main">' +
          '<div class="name">'+st.name+'</div>' +
          '<div class="meta">' +
            '<span>'+d.stage+'</span>' +
            '<span>'+d.section+'</span>' +
            '<span>'+d.track+'</span>' +
            '<span>رقم: '+st.sid+'</span>' +
          '</div>' +
        '</div>' +
        '<div class="chev">'+icon("chev")+'</div>' +
      '</div>'
    );
  }).join("");
  list.querySelectorAll(".row").forEach(r => {
    r.addEventListener("click", () => {
      state.selectedSid = r.getAttribute("data-sid");
      store.set(KEYS.selected, state.selectedSid);
      renderSelection();
      renderStudents();
    });
  });
}

function renderSelection() {
  const st = currentSelected();
  const bar = $("actionbar");
  if (!st) { bar.style.display = "none"; return; }
  const d = describeStudent(st);
  $("selName").textContent = st.name;
  $("selMeta").textContent = d.full || "";
  bar.style.display = "block";
}

function openSheet(kind) {
  const st = currentSelected();
  if (!st) return toast("اختر طالبًا أولًا.");
  $("sheetKind").value = kind;
  $("sheetTitle").textContent = (kind === "attendance" ? "رصد مواظبة" : (kind === "behavior" ? "رصد سلوك" : "إذن (دخول/خروج)"));

  const sel = $("typeSelect");
  const items = (kind === "attendance" ? state.lists.attendance : (kind === "behavior" ? state.lists.behavior : state.lists.permit));
  sel.innerHTML = items.map(x => '<option value="'+x+'">'+x+'</option>').join("");

  $("note").value = "";
  $("phone").value = normalizePhone(st.phone);
  const info = nowInfo();
  $("when").value = info.day + " - " + info.date + " - " + info.time;

  $("preview").textContent = "";
  $("afterSave").style.display = "none";
  $("saveBtn").style.display = "block";
  $("doMenu").style.display = "none";
  $("copyBtn").style.display = "block";
  $("waBtn").style.display = "block";

  $("backdrop").classList.add("show");
  $("typeSelect").focus();
}

function closeSheet() { $("backdrop").classList.remove("show"); }

function buildMessage(st, kind, subtype, when, note) {
  const d = describeStudent(st);
  const lines = [];
  lines.push("السلام عليكم ورحمة الله وبركاته،");
  lines.push("");
  lines.push("نفيدكم بشأن الطالب/ " + st.name);
  lines.push("الصف/ " + d.stage + " – " + d.section + " (" + d.track + ")");
  lines.push("");
  if (kind === "attendance") lines.push("المواظبة: " + subtype);
  else if (kind === "behavior") lines.push("السلوك: " + subtype);
  else lines.push("إذن: " + subtype);
  if (note) lines.push("تفاصيل مختصرة: " + note);
  lines.push("الوقت: " + when);
  lines.push("");
  lines.push("نأمل منكم المتابعة والتعاون بما يدعم انضباط الطالب وتحسين سلوكه/مواظبته، شاكرين لكم.");
  lines.push("— " + state.settings.schoolName);
  return lines.join("\n");
}

function openWhatsApp(phone, text) {
  const p = normalizePhone(phone);
  const msg = encodeURIComponent(text);
  const url = p ? ("https://wa.me/" + p + "?text=" + msg) : ("https://wa.me/?text=" + msg);
  window.open(url, "_blank", "noopener,noreferrer");
}

function copyText(text) {
  navigator.clipboard.writeText(text)
    .then(()=>toast("تم النسخ."))
    .catch(()=>toast("تعذر النسخ تلقائياً. انسخ يدويًا من المعاينة."));
}

function saveRecord() {
  const st = currentSelected();
  if (!st) return;
  const kind = $("sheetKind").value;
  const subtype = $("typeSelect").value;
  const when = $("when").value;
  const phone = $("phone").value;
  const note = safeText($("note").value);

  const msg = buildMessage(st, kind, subtype, when, note);
  $("preview").textContent = msg;

  const rec = {
    id: uid(),
    createdAt: new Date().toISOString(),
    kind, subtype, when, note,
    phone: normalizePhone(phone),
    student: { sid: st.sid, name: st.name, gradeCode: st.gradeCode, section: st.section }
  };
  state.records.unshift(rec);
  store.set(KEYS.records, state.records);

  $("afterSave").style.display = "block";
  $("saveBtn").style.display = "none";
  toast("تم حفظ السجل في الأرشيف.");
}

function normalizeStudents(arr) {
  const out = [];
  const seen = new Set();
  for (const it of arr) {
    const sid = safeText(it.sid || it["رقم الطالب"] || it.id);
    const name = safeText(it.name || it["اسم الطالب"] || it.fullName || it.studentName);
    if (!sid || !name) continue;
    if (seen.has(sid)) continue;
    seen.add(sid);
    out.push({
      sid,
      name,
      phone: safeText(it.phone || it["الجوال"] || ""),
      gradeCode: safeText(it.gradeCode || it["رقم الصف"] || ""),
      section: safeText(it.section || it["الفصل"] || "")
    });
  }
  return out;
}

// ===== Menu =====
function openMenu() {
  $("sheetTitle").textContent = "القائمة";
  $("sheetKind").value = "menu";
  const sel = $("typeSelect");
  sel.innerHTML = [
    ["import", "استيراد/تحديث بيانات الطلاب"],
    ["export", "تصدير نسخة احتياطية (JSON)"],
    ["exportCsv", "تصدير الطلاب (CSV)"],
    ["lists", "تحرير قوائم المخالفات/الخيارات"],
    ["addStudent", "إضافة طالب يدويًا"],
    ["diag", "تشخيص سريع"],
    ["reset", "تصفير/حذف الكل (PIN)"]
  ].map(x => '<option value="'+x[0]+'">'+x[1]+'</option>').join("");

  $("note").value = "";
  $("phone").value = "";
  $("when").value = "";
  $("preview").textContent = "اختر إجراء من القائمة ثم اضغط (تنفيذ).";

  $("afterSave").style.display = "block";
  $("saveBtn").style.display = "none";
  $("doMenu").style.display = "block";
  $("doMenu").textContent = "تنفيذ";

  $("copyBtn").style.display = "none";
  $("waBtn").style.display = "none";

    $("doMenu").onclick = runMenuAction;

  $("backdrop").classList.add("show");
}

function runMenuAction() {
  const action = $("typeSelect").value;
  closeSheet();
  if (action === "import") return openImport();
  if (action === "export") return doExport();
  if (action === "exportCsv") return doExportCSV();
  if (action === "lists") return openListsEditor();
  if (action === "addStudent") return openAddStudent();
  if (action === "diag") return quickDiag();
  if (action === "reset") return openReset();
}

function openImport() {
  $("sheetTitle").textContent = "استيراد بيانات الطلاب";
  $("sheetKind").value = "import";
  $("preview").textContent =
"اختر:
1) تحميل البيانات المضمنة (سريع).
2) استيراد ملف CSV أو JSON (مناسب للنقل بين الأجهزة).";

  $("afterSave").style.display = "block";
  $("saveBtn").style.display = "none";
  $("doMenu").style.display = "block";
  $("doMenu").textContent = "متابعة";
  $("copyBtn").style.display = "none";
  $("waBtn").style.display = "none";

  const sel = $("typeSelect");
  sel.innerHTML = [
    ["embedded","تحميل البيانات المضمنة (سريع)"],
    ["csv","استيراد CSV (من Excel حفظ باسم CSV)"],
    ["json","استيراد JSON (نسخة احتياطية)"]
  ].map(x=>'<option value="'+x[0]+'">'+x[1]+'</option>').join("");

  $("doMenu").onclick = async () => {
    const mode = $("typeSelect").value;
    if (mode === "embedded") {
      state.students = normalizeStudents(EMBEDDED_STUDENTS);
      store.set(KEYS.students, state.students);
      toast("تم تحميل بيانات الطلاب: " + state.students.length);
      renderBadges(); renderStudents(); renderSelection();
      closeSheet();
      return;
    }
    const inp = document.createElement("input");
    inp.type = "file";
    inp.accept = mode === "csv" ? ".csv,text/csv" : ".json,application/json";
    inp.onchange = async () => {
      try {
        const file = inp.files && inp.files[0];
        if (!file) return;
        let imported = [];
        if (mode === "csv") imported = await readCSVStudents(file);
        if (mode === "json") {
          const obj = await readJSONFile(file);
          imported = Array.isArray(obj) ? obj : (obj.students || obj.data || []);
        }
        if (!Array.isArray(imported) || !imported.length) throw new Error("لا توجد بيانات صالحة في الملف.");
        state.students = normalizeStudents(imported);
        store.set(KEYS.students, state.students);
        toast("تم الاستيراد: " + state.students.length);
        renderBadges(); renderStudents(); renderSelection();
      } catch(e) {
        toast("تعذر الاستيراد: " + (e && e.message ? e.message : e));
      } finally {
        closeSheet();
      }
    };
    inp.click();
  };

  $("backdrop").classList.add("show");
}

function doExport() {
  const pack = {
    exportedAt: new Date().toISOString(),
    students: state.students,
    records: state.records,
    lists: state.lists,
    settings: state.settings
  };
  const stamp = new Date().toISOString().slice(0,10);
  downloadJSON("نسخة-احتياطية-المواظبة-والسلوك-" + stamp + ".json", pack);
  toast("تم تجهيز النسخة الاحتياطية للتنزيل.");
}

function doExportCSV() {
  const rows = [["رقم الطالب","اسم الطالب","الجوال","رقم الصف","الفصل"]];
  for (const s of state.students) rows.push([s.sid, s.name, s.phone, s.gradeCode, s.section]);
  const stamp = new Date().toISOString().slice(0,10);
  downloadCSV("طلاب-" + stamp + ".csv", rows);
  toast("تم تجهيز ملف CSV للتنزيل.");
}

function openListsEditor() {
  $("sheetTitle").textContent = "تحرير القوائم";
  $("sheetKind").value = "lists";
  $("preview").textContent = "اكتب كل خيار في سطر مستقل ثم اضغط (حفظ).";
  $("afterSave").style.display = "none";
  $("saveBtn").style.display = "block";
  $("copyBtn").style.display = "none";
  $("waBtn").style.display = "none";
  $("doMenu").style.display = "none";

  const sel = $("typeSelect");
  sel.innerHTML = [
    ["attendance","قائمة المواظبة"],
    ["behavior","قائمة السلوك"],
    ["permit","قائمة الأذونات"]
  ].map(x=>'<option value="'+x[0]+'">'+x[1]+'</option>').join("");

  $("note").value = state.lists.attendance.join("\n");
  $("phone").value = "";
  $("when").value = "";

  sel.onchange = () => { const k = sel.value; $("note").value = state.lists[k].join("\n"); };

  $("saveBtn").onclick = () => {
    const k = sel.value;
    const lines = ($("note").value || "").split(/\r?\n/).map(s=>safeText(s)).filter(Boolean);
    if (!lines.length) return toast("أدخل خيارًا واحدًا على الأقل.");
    state.lists[k] = lines;
    store.set(KEYS.lists, state.lists);
    toast("تم حفظ القائمة.");
    closeSheet();
  };

  $("backdrop").classList.add("show");
}

function openAddStudent() {
  $("sheetTitle").textContent = "إضافة طالب";
  $("sheetKind").value = "addStudent";
  $("preview").textContent = "أدخل اسم الطالب والشعبة والجوال ثم سيتم طلب رقم الطالب.";
  $("afterSave").style.display = "none";
  $("saveBtn").style.display = "block";
  $("copyBtn").style.display = "none";
  $("waBtn").style.display = "none";
  $("doMenu").style.display = "none";

  const sel = $("typeSelect");
  sel.innerHTML = [
    ["1314","أول ثانوي (1314)"],
    ["1416","ثاني ثانوي (1416)"],
    ["1516","ثالث ثانوي (1516)"]
  ].map(x=>'<option value="'+x[0]+'">'+x[1]+'</option>').join("");

  $("noteLabel").textContent = "اسم الطالب";
  $("note").placeholder = "اكتب اسم الطالب كاملًا";
  $("note").value = "";

  $("whenLabel").textContent = "الشعبة";
  $("when").placeholder = "مثال: 1";
  $("when").value = "";

  $("phoneLabel").textContent = "جوال ولي الأمر (اختياري)";
  $("phone").placeholder = "05xxxxxxxx";
  $("phone").value = "";

  $("saveBtn").onclick = () => {
    const gradeCode = sel.value;
    const name = safeText($("note").value);
    const section = safeText($("when").value);
    const phone = safeText($("phone").value);
    const sid = safeText(prompt("رقم الطالب (إلزامي):") || "");
    if (!sid || !name) return toast("رقم الطالب واسم الطالب إلزاميان.");
    if (state.students.some(s=>s.sid===sid)) return toast("رقم الطالب موجود مسبقًا.");
    state.students.unshift({ sid, name, phone, gradeCode, section });
    store.set(KEYS.students, state.students);
    toast("تمت الإضافة.");
    renderStudents();
    closeSheet();
    resetFormLabels();
  };

  $("backdrop").classList.add("show");
}

function resetFormLabels() {
  $("noteLabel").textContent = "تفاصيل مختصرة (اختياري)";
  $("note").placeholder = "";
  $("whenLabel").textContent = "اليوم/التاريخ/الوقت";
  $("when").placeholder = "";
  $("phoneLabel").textContent = "رقم واتساب ولي الأمر";
  $("phone").placeholder = "";
}

function quickDiag() {
  const localOk = (()=>{ try{ localStorage.setItem("__t","1"); localStorage.removeItem("__t"); return true; }catch(e){ return false; } })();
  const sel = currentSelected();
  const msg =
"التشخيص السريع:\n" +
"• التخزين المحلي: " + (localOk ? "يعمل" : "مشكلة") + "\n" +
"• عدد الطلاب: " + state.students.length + "\n" +
"• عدد السجلات في الأرشيف: " + state.records.length + "\n" +
"• الطالب المحدد: " + (sel ? sel.name : "لا يوجد") + "\n\n" +
"تنبيه: يجب فتح index.html بعد فك الضغط كاملًا (لا تنقل ملفًا واحدًا فقط).";

  $("sheetTitle").textContent = "تشخيص سريع";
  $("sheetKind").value = "diag";
  $("preview").textContent = msg;
  $("afterSave").style.display = "block";
  $("saveBtn").style.display = "none";
  $("doMenu").style.display = "block";
  $("doMenu").textContent = "إغلاق";
  $("doMenu").onclick = ()=>closeSheet();

  $("typeSelect").innerHTML = '<option value="ok">تم</option>';
  $("copyBtn").style.display = "block";
  $("copyBtn").onclick = ()=>copyText(msg);
  $("waBtn").style.display = "none";

  $("backdrop").classList.add("show");
}

function openReset() {
  const pin = prompt("أدخل PIN المسؤول لإتمام التصفير:");
  if (pin !== state.settings.adminPin) return toast("PIN غير صحيح.");
  const ok = confirm("سيتم حذف (الأرشيف + بيانات الطلاب + القوائم) من هذا الجهاز فقط. متابعة؟");
  if (!ok) return;
  store.del(KEYS.students);
  store.del(KEYS.records);
  store.del(KEYS.lists);
  store.del(KEYS.selected);
  state.students = [];
  state.records = [];
  state.selectedSid = "";
  state.lists = { attendance: DEFAULT_ATTENDANCE.slice(), behavior: DEFAULT_BEHAVIOR.slice(), permit: DEFAULT_PERMIT.slice() };
  store.set(KEYS.lists, state.lists);
  toast("تم التصفير.");
  renderBadges(); renderSelection(); renderStudents();
}

function initData() {
  state.students = store.get(KEYS.students, []);
  state.records = store.get(KEYS.records, []);
  state.lists = store.get(KEYS.lists, state.lists);
  state.settings = store.get(KEYS.settings, state.settings);
  state.selectedSid = store.get(KEYS.selected, "");
  if (!Array.isArray(state.students)) state.students = [];
  if (!Array.isArray(state.records)) state.records = [];
}

function renderWelcomeIfNeeded() {
  if (state.students.length) return;
  $("previewBanner").style.display = "block";
  $("loadEmbeddedBtn").onclick = () => {
    state.students = normalizeStudents(EMBEDDED_STUDENTS);
    store.set(KEYS.students, state.students);
    $("previewBanner").style.display = "none";
    toast("تم تحميل بيانات الطلاب: " + state.students.length);
    renderBadges(); renderStudents(); renderSelection();
  };
  $("importBtn").onclick = () => {
    $("previewBanner").style.display = "none";
    openImport();
  };
}

function registerSW() {
  if (!("serviceWorker" in navigator)) return;
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("./sw.js").catch(()=>{});
  });
}

function wireUI() {
  $("menuBtn").innerHTML = icon("dots");
  $("searchIcon").innerHTML = icon("search");
  $("closeBtn").innerHTML = icon("close");

  $("q").addEventListener("input", (e)=>{ state.q = e.target.value; renderStudents(); });
  $("menuBtn").addEventListener("click", openMenu);

  $("btnAttendance").addEventListener("click", ()=>openSheet("attendance"));
  $("btnBehavior").addEventListener("click", ()=>openSheet("behavior"));
  $("btnPermit").addEventListener("click", ()=>openSheet("permit"));

  $("closeBtn").addEventListener("click", ()=>{ closeSheet(); resetFormLabels(); });
  $("backdrop").addEventListener("click", (e)=>{ if (e.target.id === "backdrop") { closeSheet(); resetFormLabels(); }});
  document.addEventListener("keydown", (e)=>{ if (e.key === "Escape") { closeSheet(); resetFormLabels(); }});

  $("saveBtn").addEventListener("click", saveRecord);

  $("copyBtn").addEventListener("click", ()=>{
    const txt = $("preview").textContent || "";
    if (!txt) return toast("لا يوجد نص لنسخه.");
    copyText(txt);
  });

  $("waBtn").addEventListener("click", ()=>{
    const txt = $("preview").textContent || "";
    if (!txt) return toast("احفظ السجل أولاً لظهور نص الرسالة.");
    const ph = $("phone").value || ((currentSelected()||{}).phone || "");
    openWhatsApp(ph, txt);
  });

  $("doMenu").onclick = runMenuAction;
}

function bootstrap() {
  try {
    initData();
    renderBadges();
    wireUI();
    renderWelcomeIfNeeded();
    renderStudents();
    renderSelection();
    registerSW();
  } catch (e) {
    document.body.innerHTML =
      '<div style="font-family:Tajawal;direction:rtl;padding:18px">' +
      '<h2 style="margin:0 0 8px">حدث خطأ يمنع تشغيل التطبيق</h2>' +
      '<p style="margin:0 0 12px;color:#5a6c68">السبب التقني: <b>' + String(e && e.message ? e.message : e) + '</b></p>' +
      '<p style="margin:0;color:#5a6c68">جرّب فتح <b>index.html</b> بعد فك الضغط كاملًا. وإذا استمرت المشكلة أرسل لقطة شاشة هنا.</p>' +
      '</div>';
  }
}

document.addEventListener("DOMContentLoaded", bootstrap);